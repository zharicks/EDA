
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Análisis Exploratorio de Datos &#8212; Modelos Predictivos para la Aprobación de Préstamos Hipotecarios en Texas</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'EDA';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Metodología" href="Metodolog%C3%ADa.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="Resumen.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.jpg" class="logo__image only-light" alt="Modelos Predictivos para la Aprobación de Préstamos Hipotecarios en Texas - Home"/>
    <script>document.write(`<img src="_static/logo.jpg" class="logo__image only-dark" alt="Modelos Predictivos para la Aprobación de Préstamos Hipotecarios en Texas - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Resumen.html">
                    Modelos Predictivos para la Aprobación de Préstamos Hipotecarios en Texas
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Introduccion.html"><strong>Introducción</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Objetivos.html"><strong>Objetivos</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Metodolog%C3%ADa.html"><strong>Metodología</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Análisis Exploratorio de Datos</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FEDA.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/EDA.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Análisis Exploratorio de Datos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-y-exploracion-inicial-de-los-datos"><strong>Carga y Exploración Inicial de los Datos</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-variables"><strong>Eliminación de variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#base-de-datos-luego-de-la-eliminacion"><strong>Base de datos luego de la eliminación</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cuantitativas-y-cualitativas"><strong>Resumen de Variables Cuantitativas y Cualitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cuantitativas"><strong>Resumen de variables cuantitativas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cualitativas"><strong>Resumen de variables cualitativas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-prestamos-aprobados-y-rechazados-por-sexo-raza-y-edad"><strong>Análisis de Préstamos Aprobados y Rechazados por Sexo, Raza y Edad</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pruebas-estadisticas"><strong>Pruebas Estadísticas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacion-y-conclusiones-de-la-tabla-de-pruebas-estadisticas"><strong>Interpretación y Conclusiones de la Tabla de Pruebas Estadísticas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusión</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-multicolinealidad-y-dependencia-estadistica"><strong>Análisis de Multicolinealidad y Dependencia Estadística</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-eliminacion-para-variables-numericas-vif"><strong>Método de Eliminación para Variables Numéricas: VIF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-eliminacion-para-variables-categoricas-prueba-de-chi-cuadrado"><strong>Método de Eliminación para Variables Categóricas: Prueba de Chi-cuadrado</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-final-de-variables"><strong>Selección Final de Variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nota"><strong>Nota</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-faltantes-na"><strong>Análisis de datos faltantes (NA)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes"><strong>Imputación de Datos Faltantes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-en-la-variable-income"><strong>Tratamiento de Datos Faltantes en la Variable “Income”</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacion-de-valores-negativos"><strong>Verificación de Valores Negativos</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#proceso-de-conversion-de-valores-negativos-a-na"><strong>Proceso de Conversión de Valores Negativos a NA</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#revision-del-porcentaje-de-datos-faltantes"><strong>Revisión del Porcentaje de Datos Faltantes:</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-valores-faltantes-en-la-variable-income"><strong>Imputación de Valores Faltantes en la Variable “Income”</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-de-income-antes-y-despues-de-la-imputacion"><strong>Visualización de la Distribución de “Income” Antes y Después de la Imputación</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-en-la-variable-conforming-loan-limit"><strong>Tratamiento de Datos Faltantes en la Variable “conforming_loan_limit”</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes-en-la-variable-conforming-loan-limit"><strong>Imputación de Datos Faltantes en la Variable conforming_loan_limit</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-antes-y-despues-de-la-imputacion"><strong>Visualización de la Distribución antes y después de la Imputación</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-atipicos"><strong>Análisis de Datos Atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-outliers"><strong>Identificación de Outliers</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-outliers-utilizando-diagramas-de-caja-boxplots"><strong>Identificación de Outliers Utilizando Diagramas de Caja (Boxplots)</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-outliers-mediante-el-calculo-del-z-score"><strong>Detección de Outliers Mediante el Cálculo del Z-Score</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-del-rango-intercuartilico-iqr-para-deteccion-de-outliers"><strong>Método del Rango Intercuartílico (IQR) para Detección de Outliers</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-tratamiento-de-outliers"><strong>Estrategias de Tratamiento de Outliers</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-despues-del-tratamiento-de-outliers"><strong>Visualización de la Distribución Después del Tratamiento de Outliers</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-variables-de-estudio"><strong>Visualización de Variables de Estudio</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-respuesta"><strong>Variable Respuesta</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-descriptivas"><strong>Variables descriptivas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-cualitativas"><strong>Variables cualitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-lien-status"><strong>Variable Lien Status</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-aus-gus"><strong>Variable AUS: GUS</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-total-units"><strong>Variable Total Units</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#varible-conforming-loan-limit"><strong>Varible Conforming Loan Limit</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-preapproval"><strong>Variable preapproval</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-cuantitativas"><strong>Variables Cuantitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-loan-amount"><strong>Variable Loan Amount</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-income"><strong>Variable Income</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-ffiec-family-income"><strong>Variable FFIEC Family Income</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Conclusión</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analisis-exploratorio-de-datos">
<h1><strong>Análisis Exploratorio de Datos</strong><a class="headerlink" href="#analisis-exploratorio-de-datos" title="Link to this heading">#</a></h1>
<section id="carga-y-exploracion-inicial-de-los-datos">
<h2><strong>Carga y Exploración Inicial de los Datos</strong><a class="headerlink" href="#carga-y-exploracion-inicial-de-los-datos" title="Link to this heading">#</a></h2>
<p>En esta sección, se realiza una carga inicial del dataset del Home Mortgage Disclosure Act (HMDA) filtrado para el estado de Texas, centrado en solicitudes de préstamos para la compra de viviendas. La exploración inicial de los datos implica la visualización de las primeras filas del dataset, un resumen estadístico de las variables numéricas, y la obtención de la dimensión del conjunto de datos para entender su tamaño y estructura. Además, se analizará una tabla de descripción de variables, identificando aquellas que son redundantes o no relevantes para el análisis posterior.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importación de librerías necesarias </span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">missingno</span> <span class="k">as</span> <span class="nn">msno</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">chi2_contingency</span><span class="p">,</span> <span class="n">mannwhitneyu</span><span class="p">,</span> <span class="n">kstest</span><span class="p">,</span> <span class="n">ttest_ind</span>
<span class="kn">from</span> <span class="nn">plotly.offline</span> <span class="kn">import</span> <span class="n">plot</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">zscore</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Carga y exploración inicial del dataset</span>
<span class="n">Data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;HMDA.csv&#39;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El dataset tiene </span><span class="si">{</span><span class="n">Data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> observaciones y </span><span class="si">{</span><span class="n">Data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> variables.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>activity_year</th>
      <th>lei</th>
      <th>derived_msa-md</th>
      <th>state_code</th>
      <th>county_code</th>
      <th>census_tract</th>
      <th>conforming_loan_limit</th>
      <th>derived_loan_product_type</th>
      <th>derived_dwelling_category</th>
      <th>derived_ethnicity</th>
      <th>...</th>
      <th>denial_reason-2</th>
      <th>denial_reason-3</th>
      <th>denial_reason-4</th>
      <th>tract_population</th>
      <th>tract_minority_population_percent</th>
      <th>ffiec_msa_md_median_family_income</th>
      <th>tract_to_msa_income_percentage</th>
      <th>tract_owner_occupied_units</th>
      <th>tract_one_to_four_family_homes</th>
      <th>tract_median_age_of_housing_units</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2023</td>
      <td>254900FBWEZ3YUPOBN33</td>
      <td>46340</td>
      <td>TX</td>
      <td>48423.0</td>
      <td>4.842300e+10</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5655</td>
      <td>57.14</td>
      <td>85600</td>
      <td>82.23</td>
      <td>1181</td>
      <td>2284</td>
      <td>72</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2023</td>
      <td>254900FBWEZ3YUPOBN33</td>
      <td>26420</td>
      <td>TX</td>
      <td>48201.0</td>
      <td>4.820131e+10</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2790</td>
      <td>84.80</td>
      <td>94100</td>
      <td>135.82</td>
      <td>672</td>
      <td>857</td>
      <td>56</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2023</td>
      <td>254900FBWEZ3YUPOBN33</td>
      <td>28660</td>
      <td>TX</td>
      <td>48027.0</td>
      <td>4.802702e+10</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3169</td>
      <td>82.27</td>
      <td>76500</td>
      <td>41.58</td>
      <td>601</td>
      <td>1067</td>
      <td>62</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023</td>
      <td>254900FBWEZ3YUPOBN33</td>
      <td>26420</td>
      <td>TX</td>
      <td>48201.0</td>
      <td>4.820153e+10</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>3514</td>
      <td>98.24</td>
      <td>94100</td>
      <td>42.23</td>
      <td>705</td>
      <td>1113</td>
      <td>49</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023</td>
      <td>254900FBWEZ3YUPOBN33</td>
      <td>28660</td>
      <td>TX</td>
      <td>48027.0</td>
      <td>4.802702e+10</td>
      <td>NC</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2926</td>
      <td>59.64</td>
      <td>76500</td>
      <td>65.80</td>
      <td>545</td>
      <td>949</td>
      <td>32</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 99 columns</p>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El dataset tiene 443656 observaciones y 99 variables.
</pre></div>
</div>
</div>
</div>
</section>
<section id="eliminacion-de-variables">
<h2><strong>Eliminación de variables</strong><a class="headerlink" href="#eliminacion-de-variables" title="Link to this heading">#</a></h2>
<p>Para optimizar el análisis de los datos de préstamos hipotecarios, se procederá a eliminar ciertas variables del dataset que no son relevantes o que ya están resumidas en otras variables más útiles. Muchas de estas columnas detallan múltiples categorías de etnicidad y raza del solicitante y co-solicitante, como <em>applicant_ethnicity-1</em> a <em>applicant_ethnicity-5</em> y <em>co-applicant_race-1</em> a <em>co-applicant_race-5</em>, pero estas pueden ser reemplazadas por las variables derivadas <em>derived_ethnicity</em> y <em>derived_race</em>, que ya sintetizan esta información. Otras variables han sido incluidas solo como referencia de contexto del sector, como <em>activity_year</em>, <em>state_code</em> y <em>census_tract</em>, sin aportar directamente al análisis de las decisiones de préstamo. Por ello, estas columnas serán eliminadas para simplificar el dataset y enfocarnos en las variables de mayor relevancia para nuestro estudio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;applicant_ethnicity-1&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_ethnicity-2&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_ethnicity-3&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_ethnicity-4&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;applicant_ethnicity-5&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_ethnicity-1&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_ethnicity-2&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_ethnicity-3&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;co-applicant_ethnicity-4&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_ethnicity-5&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_race-1&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_race-2&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;applicant_race-3&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_race-4&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_race-5&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_race-1&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_race-2&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;co-applicant_race-3&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_race-4&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_race-5&#39;</span><span class="p">,</span> <span class="s1">&#39;denial_reason-1&#39;</span><span class="p">,</span> <span class="s1">&#39;denial_reason-2&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;denial_reason-3&#39;</span><span class="p">,</span> <span class="s1">&#39;denial_reason-4&#39;</span><span class="p">,</span> <span class="s1">&#39;activity_year&#39;</span><span class="p">,</span> <span class="s1">&#39;lei&#39;</span><span class="p">,</span> <span class="s1">&#39;derived_msa-md&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;state_code&#39;</span><span class="p">,</span> <span class="s1">&#39;census_tract&#39;</span><span class="p">,</span> <span class="s1">&#39;loan_purpose&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_ethnicity_observed&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_ethnicity_observed&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;co-applicant_race_observed&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_sex_observed&#39;</span><span class="p">,</span> <span class="s1">&#39;applicant_age_above_62&#39;</span><span class="p">,</span> <span class="s1">&#39;co-applicant_age_above_62&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;interest_rate&#39;</span><span class="p">,</span> <span class="s1">&#39;tract_population&#39;</span><span class="p">,</span> <span class="s1">&#39;tract_minority_population_percent&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;tract_to_msa_income_percentage&#39;</span><span class="p">,</span> <span class="s1">&#39;tract_owner_occupied_units&#39;</span><span class="p">,</span> <span class="s1">&#39;tract_one_to_four_family_homes&#39;</span><span class="p">,</span> <span class="s1">&#39;tract_median_age_of_housing_units&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;rate_spread&#39;</span><span class="p">,</span> <span class="s1">&#39;other_nonamortizing_features&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;El dataset tiene </span><span class="si">{</span><span class="n">Data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> observaciones y </span><span class="si">{</span><span class="n">Data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> variables.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El dataset tiene 443656 observaciones y 54 variables.
</pre></div>
</div>
</div>
</div>
<section id="base-de-datos-luego-de-la-eliminacion">
<h3><strong>Base de datos luego de la eliminación</strong><a class="headerlink" href="#base-de-datos-luego-de-la-eliminacion" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>county_code</th>
      <th>conforming_loan_limit</th>
      <th>derived_loan_product_type</th>
      <th>derived_dwelling_category</th>
      <th>derived_ethnicity</th>
      <th>derived_race</th>
      <th>derived_sex</th>
      <th>action_taken</th>
      <th>purchaser_type</th>
      <th>preapproval</th>
      <th>...</th>
      <th>applicant_age</th>
      <th>co-applicant_age</th>
      <th>submission_of_application</th>
      <th>initially_payable_to_institution</th>
      <th>aus-1</th>
      <th>aus-2</th>
      <th>aus-3</th>
      <th>aus-4</th>
      <th>aus-5</th>
      <th>ffiec_msa_md_median_family_income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>48423.0</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>Race Not Available</td>
      <td>Sex Not Available</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>...</td>
      <td>8888</td>
      <td>8888</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>85600</td>
    </tr>
    <tr>
      <th>1</th>
      <td>48201.0</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>Race Not Available</td>
      <td>Sex Not Available</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>...</td>
      <td>8888</td>
      <td>8888</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>94100</td>
    </tr>
    <tr>
      <th>2</th>
      <td>48027.0</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>Race Not Available</td>
      <td>Sex Not Available</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>...</td>
      <td>8888</td>
      <td>8888</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>76500</td>
    </tr>
    <tr>
      <th>3</th>
      <td>48201.0</td>
      <td>C</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>Race Not Available</td>
      <td>Sex Not Available</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>...</td>
      <td>8888</td>
      <td>8888</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>94100</td>
    </tr>
    <tr>
      <th>4</th>
      <td>48027.0</td>
      <td>NC</td>
      <td>Conventional:First Lien</td>
      <td>Single Family (1-4 Units):Site-Built</td>
      <td>Ethnicity Not Available</td>
      <td>Race Not Available</td>
      <td>Sex Not Available</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>...</td>
      <td>8888</td>
      <td>8888</td>
      <td>1</td>
      <td>1</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>76500</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 54 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="resumen-de-variables-cuantitativas-y-cualitativas">
<h2><strong>Resumen de Variables Cuantitativas y Cualitativas</strong><a class="headerlink" href="#resumen-de-variables-cuantitativas-y-cualitativas" title="Link to this heading">#</a></h2>
<p>A continuación, se presenta un resumen estadístico de las variables del dataset, tanto cuantitativas como cualitativas, que proporciona una visión general de su distribución y características. Para las variables cuantitativas, se incluye información como la media, mediana, desviación estándar, valores mínimos y máximos. Para las variables cualitativas, se muestra la frecuencia de cada categoría, lo que permite identificar patrones en los datos demográficos y las decisiones de préstamos. Este “summary” es fundamental para entender la estructura de los datos y guiar los próximos pasos del análisis.</p>
<section id="resumen-de-variables-cuantitativas">
<h3><strong>Resumen de variables cuantitativas</strong><a class="headerlink" href="#resumen-de-variables-cuantitativas" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">describe</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>county_code</th>
      <th>action_taken</th>
      <th>purchaser_type</th>
      <th>preapproval</th>
      <th>loan_type</th>
      <th>lien_status</th>
      <th>reverse_mortgage</th>
      <th>open-end_line_of_credit</th>
      <th>business_or_commercial_purpose</th>
      <th>loan_amount</th>
      <th>...</th>
      <th>co-applicant_sex</th>
      <th>applicant_sex_observed</th>
      <th>submission_of_application</th>
      <th>initially_payable_to_institution</th>
      <th>aus-1</th>
      <th>aus-2</th>
      <th>aus-3</th>
      <th>aus-4</th>
      <th>aus-5</th>
      <th>ffiec_msa_md_median_family_income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>439689.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>4.436560e+05</td>
      <td>...</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>443656.000000</td>
      <td>31801.000000</td>
      <td>5965.000000</td>
      <td>2816.000000</td>
      <td>2329.000000</td>
      <td>443656.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>48227.779874</td>
      <td>1.398119</td>
      <td>13.510069</td>
      <td>1.962575</td>
      <td>1.433856</td>
      <td>1.024418</td>
      <td>26.119164</td>
      <td>26.111701</td>
      <td>25.671723</td>
      <td>3.311607e+05</td>
      <td>...</td>
      <td>3.533312</td>
      <td>2.047079</td>
      <td>25.318447</td>
      <td>25.212850</td>
      <td>26.906189</td>
      <td>1.877111</td>
      <td>2.611232</td>
      <td>1.289773</td>
      <td>1.296264</td>
      <td>92527.359260</td>
    </tr>
    <tr>
      <th>std</th>
      <td>148.026690</td>
      <td>0.798587</td>
      <td>25.906443</td>
      <td>0.189802</td>
      <td>0.691672</td>
      <td>0.154342</td>
      <td>161.761556</td>
      <td>161.762692</td>
      <td>160.451510</td>
      <td>7.935482e+05</td>
      <td>...</td>
      <td>1.657160</td>
      <td>0.256459</td>
      <td>161.829966</td>
      <td>161.845555</td>
      <td>162.153061</td>
      <td>1.157010</td>
      <td>1.755964</td>
      <td>0.568425</td>
      <td>0.577937</td>
      <td>17612.346836</td>
    </tr>
    <tr>
      <th>min</th>
      <td>48001.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>5.000000e+03</td>
      <td>...</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>48113.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>1.850000e+05</td>
      <td>...</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>84300.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>48201.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>2.750000e+05</td>
      <td>...</td>
      <td>5.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>94100.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>48349.000000</td>
      <td>1.000000</td>
      <td>6.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>2.000000</td>
      <td>3.850000e+05</td>
      <td>...</td>
      <td>5.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>6.000000</td>
      <td>2.000000</td>
      <td>5.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>105600.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>48507.000000</td>
      <td>3.000000</td>
      <td>72.000000</td>
      <td>2.000000</td>
      <td>4.000000</td>
      <td>2.000000</td>
      <td>1111.000000</td>
      <td>1111.000000</td>
      <td>1111.000000</td>
      <td>1.043550e+08</td>
      <td>...</td>
      <td>6.000000</td>
      <td>3.000000</td>
      <td>1111.000000</td>
      <td>1111.000000</td>
      <td>1111.000000</td>
      <td>7.000000</td>
      <td>5.000000</td>
      <td>3.000000</td>
      <td>3.000000</td>
      <td>122300.000000</td>
    </tr>
  </tbody>
</table>
<p>8 rows × 33 columns</p>
</div></div></div>
</div>
<p>En esta sección, se presenta un resumen de las variables cuantitativas del dataset, mostrando estadísticas como la media, mediana, desviación estándar, entre otras. Sin embargo, es importante notar que varias de estas variables han sido inicialmente categorizadas como numéricas, aunque en realidad representan categorías codificadas con números. Por ejemplo, variables como action_taken, purchaser_type, preapproval, y otras contienen códigos numéricos que indican diferentes estados o tipos en lugar de valores cuantitativos reales. Para abordar este problema y asegurar un análisis correcto, se procederá a mapear estos números a sus respectivas etiquetas categóricas, transformándolas en variables de tipo categórico que reflejen adecuadamente su naturaleza cualitativa.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Mapping de las categorías</span>

<span class="c1"># Codificación del código de condado</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;county_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;county_code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># Variable &quot;action_taken&quot; (decisión)</span>
<span class="n">ActionTakenMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Loan Originated&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Application Approved but Not Accepted&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Application Denied&#39;</span><span class="p">,</span> 
                        <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Application Withdrawn by Applicant&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;File Closed for Incompleteness&#39;</span><span class="p">,</span> 
                        <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;Purchased Loan&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;Preapproval Request Denied&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;Preapproval Request Approved but Not Accepted&#39;</span><span class="p">}</span>

<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;action_taken&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;action_taken&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ActionTakenMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;purchaser_type&quot; </span>
<span class="n">PurchaserTypeMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Not Applicable&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Fannie Mae&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Ginnie Mae&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Freddie Mac&#39;</span><span class="p">,</span> 
                          <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Farmer Mac&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Private Securitization&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;Commercial Bank&#39;</span><span class="p">,</span> 
                          <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;Credit Union&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;Affiliate Institution&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;Other&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;purchaser_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;purchaser_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">PurchaserTypeMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;preapproval&quot;</span>
<span class="n">PreapprovalMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Preapproval Requested&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Preapproval Not Requested&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not Applicable&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">PreapprovalMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;loan_type&quot;</span>
<span class="n">LoanTypeMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Conventional&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;FHA&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;VA&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;USDA&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">LoanTypeMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;lien_status&quot;</span>
<span class="n">LienStatusMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;First Liena&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Subordinate Lien&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;lien_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;lien_status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">LienStatusMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;reverse_mortgage&quot;</span>
<span class="n">ReverseMortgageMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Reverse Mortgage&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not Reverse Mortgage&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;reverse_mortgage&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;reverse_mortgage&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ReverseMortgageMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Varible &quot;open-end_line_of_credit&quot;</span>
<span class="n">OpenEndLineMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Open-End&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not Open-End&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;open-end_line_of_credit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;open-end_line_of_credit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">OpenEndLineMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;business_or_commercial_purpose&quot;</span>
<span class="n">BusinessOrCommercialMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Primarily Bussiness or Commercial Purpose&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not Primarily Bussiness or Commercial Purpose&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;business_or_commercial_purpose&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;business_or_commercial_purpose&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">BusinessOrCommercialMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;hoepa_status&quot;</span>
<span class="n">HoepaStatusMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;High-cost Mortgage&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not High-cost Mortgage&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not Applicable&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;hoepa_status&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;hoepa_status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">HoepaStatusMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;negative_amortization</span>
<span class="n">NegAmortizationMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Negative Amortization&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;No Negative Amortization&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;negative_amortization&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;negative_amortization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">NegAmortizationMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;interest_only_payment&quot;</span>
<span class="n">InterestPaymentMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Interest-only Payments&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;No Interest-only Payments&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;interest_only_payment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;interest_only_payment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">InterestPaymentMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;balloon_payment&quot;</span>
<span class="n">BalloonPaymentMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Balloon Payment&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;No Balloon Payment&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;balloon_payment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;balloon_payment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">BalloonPaymentMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;construction_method&quot;</span>
<span class="n">ConstructionMethodMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Site-build&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Manufactured Home&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;construction_method&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;construction_method&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ConstructionMethodMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;occupancy_type&quot;</span>
<span class="n">OccupancyTypeMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Principal Residence&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Second Residence&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Investment Property&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;occupancy_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;occupancy_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">OccupancyTypeMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;manufactured_home_secured_property_type&quot;</span>
<span class="n">MhsptMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Manufactured Home and Land&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Manufactured Home and not Land&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not Applicable&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;manufactured_home_secured_property_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;manufactured_home_secured_property_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">MhsptMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;manufactured_home_land_property_interest&quot;</span>
<span class="n">MhlpiMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Direct Ownership&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Indirect Ownership&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Paid Leasehold&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Unpaid Leasehold&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Not Applicable&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;manufactured_home_land_property_interest&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;manufactured_home_land_property_interest&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">MhlpiMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;applicant_credit_score_type&quot;</span>
<span class="n">AppCreditScoreMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Equifax Beacon 5.0&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Experian Fair Isaac&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;FICO Risk Score Classic 04&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;FICO Risk Score Classic 98&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;VantageScore 2.0&#39;</span><span class="p">,</span> 
                         <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;VantageScore 3.0&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;More than one credit scoring model&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;Other credit scoring model&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_credit_score_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_credit_score_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">AppCreditScoreMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;co-applicant_credit_score_type&quot;</span>
<span class="n">CoAppCreditScoreMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Equifax Beacon 5.0&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Experian Fair Isaac&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;FICO Risk Score Classic 04&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;FICO Risk Score Classic 98&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;VantageScore 2.0&#39;</span><span class="p">,</span>
                           <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;VantageScore 3.0&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;More than one credit scoring model&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="s1">&#39;Other credit scoring model&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="s1">&#39;No co-applicant&#39;</span><span class="p">,</span> 
                           <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;co-applicant_credit_score_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;co-applicant_credit_score_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">CoAppCreditScoreMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;applicant_race_observed&quot;</span>
<span class="n">AppRaceObMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Collected on the basis of visual observation or surname&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not collected on the basis of visual observation or surname&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_race_observed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_race_observed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">AppRaceObMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;applicant_sex&quot;</span>
<span class="n">CoAppSexMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Female&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not provided&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;Applicant selected both male and female&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">CoAppSexMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;co-applicant_sex&quot;</span>
<span class="n">CoAppSexMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Female&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not provided&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;No co-applicant&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;Applicant selected both male and female&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;co-applicant_sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;co-applicant_sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">CoAppSexMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;applicant_sex_observed&quot;</span>
<span class="n">AppSexObsMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Collected on the basis of visual observation or surname&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not collected on the basis of visual observation or surname&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_sex_observed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;applicant_sex_observed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">AppSexObsMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;submission_of_application&quot;</span>
<span class="n">SubApplicationMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Submitted directly to your institution&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;Not submitted directly to your institution&#39;</span><span class="p">,</span> 
                         <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;submission_of_application&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;submission_of_application&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">SubApplicationMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variable &quot;initially_payable_to_institution&quot;</span>
<span class="n">IPayInstMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;initially_payable_to_institution&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;Not initially payable to your institution&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;Exempt&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;initially_payable_to_institution&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;initially_payable_to_institution&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">IPayInstMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variables aus, al tener la opción de varios sistemas automatizados, se cambia a una codificación donde un 1 representa la presencia de dicho sistema automatizado.</span>
<span class="n">ausMapping</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;DU&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;LP&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;TOTAL&#39;</span><span class="p">,</span> 
               <span class="mi">4</span><span class="p">:</span> <span class="s1">&#39;GUS&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="s1">&#39;Other&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="s1">&#39;NA&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="s1">&#39;IPS&#39;</span><span class="p">,</span> <span class="mi">1111</span><span class="p">:</span> <span class="s1">&#39;NA&#39;</span><span class="p">}</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ausMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ausMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ausMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-4&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ausMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-5&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;aus-5&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">ausMapping</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="n">aus_categories</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">ausMapping</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">-</span> <span class="p">{</span><span class="s1">&#39;NA&#39;</span><span class="p">}</span>
<span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">aus_categories</span><span class="p">:</span>
    <span class="n">Data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;aus_</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[[</span><span class="sa">f</span><span class="s1">&#39;aus-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">category</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">Data</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;aus-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span>

<span class="c1"># Variables definidas como categóricas, categóricas. </span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;county_code&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;county_code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_dwelling_category&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_dwelling_category&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_ethnicity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_ethnicity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_race&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_race&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_sex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;derived_sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

<span class="c1"># Variables definidas como númericas, numéricas. </span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;total_loan_costs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;total_loan_costs&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;total_points_and_fees&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;total_points_and_fees&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;origination_charges&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;origination_charges&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;discount_points&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;discount_points&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;lender_credits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;lender_credits&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_term&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_term&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;intro_rate_period&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;intro_rate_period&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;property_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;property_value&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;loan_to_value_ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;property_value&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;ffiec_msa_md_median_family_income&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;ffiec_msa_md_median_family_income&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">CategorizarRatio</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">rango</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
        <span class="n">Average</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">rango</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">rango</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">Average</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Bajo&#39;</span>
        <span class="k">elif</span> <span class="mi">20</span> <span class="o">&lt;=</span> <span class="n">Average</span> <span class="o">&lt;</span> <span class="mi">35</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Medio-Bajo&#39;</span>
        <span class="k">elif</span> <span class="mi">35</span> <span class="o">&lt;=</span> <span class="n">Average</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Medio&#39;</span>
        <span class="k">elif</span> <span class="mi">50</span> <span class="o">&lt;=</span> <span class="n">Average</span> <span class="o">&lt;</span> <span class="mi">65</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Medio-Alto&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;Alto&#39;</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;Desconocido&#39;</span>

<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;debt_to_income_ratio_cat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;debt_to_income_ratio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">CategorizarRatio</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>county_code                                 category
conforming_loan_limit                       category
derived_loan_product_type                     object
derived_dwelling_category                   category
derived_ethnicity                           category
derived_race                                category
derived_sex                                 category
action_taken                                category
purchaser_type                              category
preapproval                                 category
loan_type                                   category
lien_status                                 category
reverse_mortgage                            category
open-end_line_of_credit                     category
business_or_commercial_purpose              category
loan_amount                                  float64
loan_to_value_ratio                          float64
hoepa_status                                category
total_loan_costs                             float64
total_points_and_fees                        float64
origination_charges                          float64
discount_points                              float64
lender_credits                               float64
loan_term                                    float64
prepayment_penalty_term                       object
intro_rate_period                            float64
negative_amortization                       category
interest_only_payment                       category
balloon_payment                             category
property_value                               float64
construction_method                         category
occupancy_type                              category
manufactured_home_secured_property_type     category
manufactured_home_land_property_interest    category
total_units                                   object
multifamily_affordable_units                  object
income                                       float64
debt_to_income_ratio                          object
applicant_credit_score_type                 category
co-applicant_credit_score_type              category
applicant_race_observed                     category
applicant_sex                               category
co-applicant_sex                            category
applicant_sex_observed                      category
applicant_age                                 object
co-applicant_age                              object
submission_of_application                   category
initially_payable_to_institution            category
ffiec_msa_md_median_family_income              int64
aus_GUS                                        int64
aus_DU                                         int64
aus_TOTAL                                      int64
aus_Other                                      int64
aus_IPS                                        int64
aus_LP                                         int64
debt_to_income_ratio_cat                      object
dtype: object
</pre></div>
</div>
</div>
</div>
</section>
<section id="resumen-de-variables-cualitativas">
<h3><strong>Resumen de variables cualitativas</strong><a class="headerlink" href="#resumen-de-variables-cualitativas" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">CategoricalVar</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;object&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>
<span class="n">summary_CatVar</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">CategoricalVar</span><span class="p">:</span>
    <span class="n">counts</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
    <span class="n">percentages</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="n">SummaryCatVar</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">:</span> <span class="n">counts</span><span class="p">,</span> <span class="s1">&#39;Porcentaje (%)&#39;</span><span class="p">:</span> <span class="n">percentages</span><span class="p">})</span>
    
    <span class="n">summary_CatVar</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">SummaryCatVar</span>

<span class="c1">#for col, SummaryCatVar in summary_CatVar.items():</span>
<span class="c1">#    print(f&quot;Resumen para la variable &#39;{col}&#39;:&quot;)</span>
<span class="c1">#    display(SummaryCatVar)</span>
<span class="c1">#    print(&quot;\n&quot;)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="analisis-de-prestamos-aprobados-y-rechazados-por-sexo-raza-y-edad">
<h2><strong>Análisis de Préstamos Aprobados y Rechazados por Sexo, Raza y Edad</strong><a class="headerlink" href="#analisis-de-prestamos-aprobados-y-rechazados-por-sexo-raza-y-edad" title="Link to this heading">#</a></h2>
<p>Para entender mejor la distribución de los préstamos hipotecarios aprobados y rechazados, se han aplicado filtros específicos al dataset para identificar el número de préstamos aprobados <em>‘(Loan originated = 1)’</em> y rechazados <em>‘(Application denied = 3)’</em>. A partir de estos grupos, se han analizado las distribuciones por sexo, raza y edad, utilizando las variables derivadas correspondientes. Este análisis inicial permite observar cómo se comportan las decisiones de préstamos en función de estas características demográficas, proporcionando una base sólida para interpretar posibles patrones y tendencias dentro de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filtro 1: Préstamos aprobados </span>
<span class="n">Approved</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;action_taken == &#39;Loan Originated&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Filtro 2: Préstamos rechazados </span>
<span class="n">Denied</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;action_taken == &#39;Application Denied&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Verifica que los filtros no estén vacíos</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de préstamos aprobados: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Approved</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de préstamos rechazados: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">Denied</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Filtra Aprobados por Sexo</span>
<span class="n">ApprovedSex</span> <span class="o">=</span> <span class="n">Approved</span><span class="p">[</span><span class="s1">&#39;derived_sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos aprobados por sexo:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ApprovedSex</span><span class="p">)</span>

<span class="c1"># Filtra Aprobados por Raza</span>
<span class="n">ApprovedRace</span> <span class="o">=</span> <span class="n">Approved</span><span class="p">[</span><span class="s1">&#39;derived_race&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos aprobados por raza:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ApprovedRace</span><span class="p">)</span>

<span class="c1"># Filtra Aprobados por Edad </span>
<span class="n">ApprovedAge</span> <span class="o">=</span> <span class="n">Approved</span><span class="p">[</span><span class="s1">&#39;applicant_age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos aprobados por edad:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ApprovedAge</span><span class="p">)</span>

<span class="c1"># Filtra Rechazados por Sexo</span>
<span class="n">DeniedSex</span> <span class="o">=</span> <span class="n">Denied</span><span class="p">[</span><span class="s1">&#39;derived_sex&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos rechazados por sexo:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">DeniedSex</span><span class="p">)</span>

<span class="c1"># Filtra Rechazados por Raza</span>
<span class="n">DeniedRace</span> <span class="o">=</span> <span class="n">Denied</span><span class="p">[</span><span class="s1">&#39;derived_race&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos rechazados por raza:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">DeniedRace</span><span class="p">)</span>

<span class="c1"># Filtra Rechazados por Edad </span>
<span class="n">DeniedAge</span> <span class="o">=</span> <span class="n">Denied</span><span class="p">[</span><span class="s1">&#39;applicant_age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cantidad de préstamos rechazados por edad:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">DeniedAge</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total de préstamos aprobados: 355342
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Total de préstamos rechazados: 88314&#39;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos aprobados por sexo:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>derived_sex
Joint                142585
Male                 120566
Female                67208
Sex Not Available     24983
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos aprobados por raza:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>derived_race
White                                        209680
Race Not Available                            60897
Asian                                         40349
Black or African American                     29581
Joint                                         10428
American Indian or Alaska Native               2837
2 or more minority races                        914
Native Hawaiian or Other Pacific Islander       570
Free Form Text Only                              86
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos aprobados por edad:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>applicant_age
25-34    113857
35-44    100089
45-54     60900
55-64     34386
65-74     14585
8888       7774
&lt;25       19663
&gt;74        4088
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos rechazados por sexo:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>derived_sex
Male                 31836
Joint                27022
Female               23685
Sex Not Available     5771
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos rechazados por raza:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>derived_race
White                                        48867
Race Not Available                           20482
Black or African American                    10248
Asian                                         5250
Joint                                         1821
American Indian or Alaska Native              1103
2 or more minority races                       306
Native Hawaiian or Other Pacific Islander      209
Free Form Text Only                             28
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de préstamos rechazados por edad:
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>applicant_age
25-34    26136
35-44    23632
45-54    16246
55-64     9308
65-74     3587
8888       747
&lt;25       7600
&gt;74       1058
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Renombrar variables para eliminar nombres extensos (para gráficas)</span>

<span class="n">NewColNames</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;manufactured_home_secured_property_type&#39;</span><span class="p">:</span> <span class="s1">&#39;manufactured_home_property_type&#39;</span><span class="p">,</span>
    <span class="s1">&#39;manufactured_home_land_property_interest&#39;</span><span class="p">:</span> <span class="s1">&#39;manufactured_home_property_interest&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ffiec_msa_md_median_family_income&#39;</span> <span class="p">:</span> <span class="s1">&#39;ffiec_median_family_income&#39;</span>
<span class="p">}</span>

<span class="n">Data</span> <span class="o">=</span> <span class="n">Data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">NewColNames</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pruebas-estadisticas">
<h2><strong>Pruebas Estadísticas</strong><a class="headerlink" href="#pruebas-estadisticas" title="Link to this heading">#</a></h2>
<p>Las pruebas estadísticas son fundamentales para validar las relaciones y diferencias observadas entre las variables del dataset y la variable objetivo del estudio. En este caso, el objetivo es analizar la relación entre diversas características del dataset y la variable <code class="docutils literal notranslate"><span class="pre">action_taken</span></code>, que representa la decisión de aprobación o rechazo de un préstamo. Después de realizar el análisis exploratorio de datos, se procede a confirmar las hipótesis generadas aplicando pruebas estadísticas adecuadas. Estas pruebas, como el test T de Student, Mann-Whitney, y Chi Cuadrado, se utilizan para evaluar si las diferencias observadas en las variables numéricas y categóricas son estadísticamente significativas en relación con la variable action_taken. Esto permite identificar qué factores influyen significativamente en la decisión de aprobación o rechazo de los préstamos, proporcionando una base sólida para el desarrollo de modelos predictivos y la toma de decisiones basada en datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_tests</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">target_variable</span><span class="p">):</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">col</span> <span class="o">==</span> <span class="n">target_variable</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_numeric_dtype</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]):</span>
            <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_numeric_dtype</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">]):</span>
            <span class="n">unique_vals</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
            <span class="n">group1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">]</span> <span class="o">==</span> <span class="n">unique_vals</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
            <span class="n">group2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">]</span> <span class="o">==</span> <span class="n">unique_vals</span><span class="p">[</span><span class="mi">1</span><span class="p">]][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">group2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;Mann-Whitney&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">p_norm1</span> <span class="o">=</span> <span class="n">kstest</span><span class="p">(</span><span class="n">group1</span><span class="p">,</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">group1</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">group1</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">p_norm2</span> <span class="o">=</span> <span class="n">kstest</span><span class="p">(</span><span class="n">group2</span><span class="p">,</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">group2</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">group2</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span>

                <span class="k">if</span> <span class="n">p_norm1</span> <span class="o">&gt;</span> <span class="mf">0.05</span> <span class="ow">and</span> <span class="n">p_norm2</span> <span class="o">&gt;</span> <span class="mf">0.05</span><span class="p">:</span>
                    <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">group1</span><span class="p">,</span> <span class="n">group2</span><span class="p">)</span>
                    <span class="n">test_used</span> <span class="o">=</span> <span class="s1">&#39;T de Student&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">mannwhitneyu</span><span class="p">(</span><span class="n">group1</span><span class="p">,</span> <span class="n">group2</span><span class="p">)</span>
                    <span class="n">test_used</span> <span class="o">=</span> <span class="s1">&#39;Mann-Whitney&#39;</span>

                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span> <span class="n">test_used</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="s1">&#39;Sí&#39;</span> <span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;=</span> <span class="mf">0.05</span> <span class="k">else</span> <span class="s1">&#39;No&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">contingency_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">target_variable</span><span class="p">])</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">chi2_contingency</span><span class="p">(</span><span class="n">contingency_table</span><span class="p">)</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;Chi Cuadrado&#39;</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="s1">&#39;Sí&#39;</span> <span class="k">if</span> <span class="n">p_value</span> <span class="o">&lt;=</span> <span class="mf">0.05</span> <span class="k">else</span> <span class="s1">&#39;No&#39;</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># Manejo de errores si no se puede realizar la prueba</span>
                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span> <span class="s1">&#39;Chi Cuadrado&#39;</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)))</span>

    <span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">,</span> <span class="s1">&#39;Prueba&#39;</span><span class="p">,</span> <span class="s1">&#39;P-Value&#39;</span><span class="p">,</span> <span class="s1">&#39;Significativa&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">results_df</span>

<span class="n">resultado</span> <span class="o">=</span> <span class="n">run_tests</span><span class="p">(</span><span class="n">Data</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
<span class="n">display</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Variable</th>
      <th>Prueba</th>
      <th>P-Value</th>
      <th>Significativa</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>county_code</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>1</th>
      <td>conforming_loan_limit</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>2</th>
      <td>derived_loan_product_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>3</th>
      <td>derived_dwelling_category</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>4</th>
      <td>derived_ethnicity</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>5</th>
      <td>derived_race</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>6</th>
      <td>derived_sex</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>7</th>
      <td>purchaser_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>8</th>
      <td>preapproval</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>9</th>
      <td>loan_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>10</th>
      <td>lien_status</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>11</th>
      <td>reverse_mortgage</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>12</th>
      <td>open-end_line_of_credit</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>13</th>
      <td>business_or_commercial_purpose</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>14</th>
      <td>loan_amount</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>15</th>
      <td>loan_to_value_ratio</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>16</th>
      <td>hoepa_status</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>17</th>
      <td>total_loan_costs</td>
      <td>Mann-Whitney</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <th>18</th>
      <td>total_points_and_fees</td>
      <td>Mann-Whitney</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <th>19</th>
      <td>origination_charges</td>
      <td>Mann-Whitney</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <th>20</th>
      <td>discount_points</td>
      <td>Mann-Whitney</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <th>21</th>
      <td>lender_credits</td>
      <td>Mann-Whitney</td>
      <td>--</td>
      <td>--</td>
    </tr>
    <tr>
      <th>22</th>
      <td>loan_term</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>23</th>
      <td>prepayment_penalty_term</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>24</th>
      <td>intro_rate_period</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>25</th>
      <td>negative_amortization</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>26</th>
      <td>interest_only_payment</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>27</th>
      <td>balloon_payment</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>28</th>
      <td>property_value</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>29</th>
      <td>construction_method</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>30</th>
      <td>occupancy_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>31</th>
      <td>manufactured_home_property_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>32</th>
      <td>manufactured_home_property_interest</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>33</th>
      <td>total_units</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>34</th>
      <td>multifamily_affordable_units</td>
      <td>Chi Cuadrado</td>
      <td>0.318258</td>
      <td>No</td>
    </tr>
    <tr>
      <th>35</th>
      <td>income</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>36</th>
      <td>debt_to_income_ratio</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>37</th>
      <td>applicant_credit_score_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>38</th>
      <td>co-applicant_credit_score_type</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>39</th>
      <td>applicant_race_observed</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>40</th>
      <td>applicant_sex</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>41</th>
      <td>co-applicant_sex</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>42</th>
      <td>applicant_sex_observed</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>43</th>
      <td>applicant_age</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>44</th>
      <td>co-applicant_age</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>45</th>
      <td>submission_of_application</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>46</th>
      <td>initially_payable_to_institution</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>47</th>
      <td>ffiec_median_family_income</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>48</th>
      <td>aus_GUS</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>49</th>
      <td>aus_DU</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>50</th>
      <td>aus_TOTAL</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>51</th>
      <td>aus_Other</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>52</th>
      <td>aus_IPS</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>53</th>
      <td>aus_LP</td>
      <td>Mann-Whitney</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
    <tr>
      <th>54</th>
      <td>debt_to_income_ratio_cat</td>
      <td>Chi Cuadrado</td>
      <td>0.0</td>
      <td>Sí</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="interpretacion-y-conclusiones-de-la-tabla-de-pruebas-estadisticas">
<h3><strong>Interpretación y Conclusiones de la Tabla de Pruebas Estadísticas</strong><a class="headerlink" href="#interpretacion-y-conclusiones-de-la-tabla-de-pruebas-estadisticas" title="Link to this heading">#</a></h3>
<p>La tabla proporcionada resume los resultados de las pruebas estadísticas realizadas para evaluar la relación entre cada variable independiente del dataset y la variable objetivo action_taken. Las pruebas estadísticas aplicadas incluyen el test de Chi Cuadrado para variables categóricas y el test de Mann-Whitney para variables numéricas. A continuación, se presenta una interpretación detallada de los resultados:</p>
<ol class="arabic simple">
<li><p><strong>Chi Cuadrado para Variables Categóricas:</strong> Para las variables categóricas, como <code class="docutils literal notranslate"><span class="pre">county_code</span></code>, <code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code>, <code class="docutils literal notranslate"><span class="pre">derived_loan_product_type</span></code>, entre otras, se utilizó la prueba de Chi Cuadrado. Esta prueba evalúa si existe una asociación significativa entre las categorías de una variable y la variable objetivo <code class="docutils literal notranslate"><span class="pre">action_taken</span></code>.</p>
<ul class="simple">
<li><p>En todos los casos, el valor p (P-Value) obtenido es 0.0, lo que indica que hay una asociación significativa entre las variables categóricas y la variable objetivo. Esta significancia estadística sugiere que las categorías de estas variables influyen en la decisión de aprobación o rechazo de los préstamos.</p></li>
<li><p>La columna “Significativa” confirma que todas estas relaciones son estadísticamente significativas con un nivel de confianza del 95%, ya que el valor p es menor a 0.05.</p></li>
<li><p>La única excepción es la variable <code class="docutils literal notranslate"><span class="pre">multifamily_affordable_units</span></code>, que tiene un valor p de 0.318258, indicando que no hay suficiente evidencia para afirmar que exista una asociación significativa con action_taken.</p></li>
</ul>
</li>
<li><p><strong>Mann-Whitney para Variables Numéricas:</strong> Para las variables numéricas, como <code class="docutils literal notranslate"><span class="pre">loan_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">loan_to_value_ratio</span></code>, <code class="docutils literal notranslate"><span class="pre">income</span></code>, etc., se aplicó la prueba de Mann-Whitney. Esta prueba no paramétrica es adecuada cuando no se puede asumir una distribución normal de los datos.</p>
<ul class="simple">
<li><p>Los resultados indican que la mayoría de las variables numéricas tienen un valor p de 0.0, lo que indica que hay diferencias significativas en la mediana de las distribuciones de estas variables entre los diferentes niveles de action_taken.</p></li>
<li><p>Las variables con resultados significativos sugieren que sus valores tienen un impacto en la decisión de aprobación o rechazo de un préstamo, lo que las convierte en potenciales predictores relevantes para el modelado predictivo.</p></li>
<li><p>Algunas variables como origination_charges, discount_points, y lender_credits no tienen valores suficientes para realizar la prueba de Mann-Whitney, lo cual se refleja con “–” en la columna P-Value.</p></li>
</ul>
</li>
</ol>
<section id="conclusion">
<h4><strong>Conclusión</strong><a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h4>
<p>La tabla de pruebas estadísticas proporciona una base sólida para identificar variables significativas que afectan la variable objetivo <code class="docutils literal notranslate"><span class="pre">action_taken</span></code>. Las variables categóricas, en su mayoría, muestran asociaciones significativas con la variable objetivo, lo que sugiere que las categorías de estas variables pueden influir en la decisión de aprobación de préstamos. Asimismo, las variables numéricas también presentan diferencias significativas en sus distribuciones, indicando que sus valores pueden ser determinantes en los resultados de <code class="docutils literal notranslate"><span class="pre">action_taken</span></code>.</p>
<p>Estos resultados apoyan la selección de variables para el desarrollo de modelos predictivos, ya que las variables significativas identificadas en esta fase del análisis pueden mejorar la precisión de los modelos al predecir la aprobación o el rechazo de préstamos. Sin embargo, es fundamental tener en cuenta la calidad de los datos y continuar con la verificación de su adecuación antes de utilizarlos en cualquier modelo de aprendizaje automático.</p>
</section>
</section>
</section>
<section id="analisis-de-multicolinealidad-y-dependencia-estadistica">
<h2><strong>Análisis de Multicolinealidad y Dependencia Estadística</strong><a class="headerlink" href="#analisis-de-multicolinealidad-y-dependencia-estadistica" title="Link to this heading">#</a></h2>
<p>La reducción de la dimensionalidad es un paso crítico en el análisis de datos, especialmente cuando se trabaja con un gran número de variables. Este proceso ayuda a mejorar la interpretabilidad del modelo, reducir el sobreajuste y disminuir el costo computacional. En este estudio, se ha decidido seleccionar 9 variables de un conjunto inicial de 54 variables. Esta selección se realizó utilizando dos métodos específicos: el <strong>Factor de Inflación de la Varianza (VIF)</strong> para variables numéricas y la prueba de <span class="math notranslate nohighlight">\(\chi^2\)</span> <strong>(Chi-cuadrado)</strong> para variables categóricas.</p>
<section id="metodo-de-eliminacion-para-variables-numericas-vif">
<h3><strong>Método de Eliminación para Variables Numéricas: VIF</strong><a class="headerlink" href="#metodo-de-eliminacion-para-variables-numericas-vif" title="Link to this heading">#</a></h3>
<p>El Factor de Inflación de la Varianza (VIF) es una medida que cuantifica la colinealidad entre las variables independientes de un conjunto de datos. Un VIF alto indica que una variable está altamente correlacionada con otras variables, lo que puede llevar a problemas de multicolinealidad en los modelos de regresión (James et al., 2013). Las variables con un VIF superior a 10 son generalmente consideradas como problemáticas y, por tanto, eliminadas del modelo (Kutner et al., 2005). En nuestro análisis, se calcularon los VIFs para cada variable numérica, y aquellas con un VIF alto fueron eliminadas progresivamente hasta obtener un conjunto de variables con VIF aceptables.</p>
<div class="math notranslate nohighlight">
\[VIF_i = \frac{1} {1 - (R_i)^2}\]</div>
</section>
<section id="metodo-de-eliminacion-para-variables-categoricas-prueba-de-chi-cuadrado">
<h3><strong>Método de Eliminación para Variables Categóricas: Prueba de Chi-cuadrado</strong><a class="headerlink" href="#metodo-de-eliminacion-para-variables-categoricas-prueba-de-chi-cuadrado" title="Link to this heading">#</a></h3>
<p>Para las variables categóricas, se utilizó la prueba de <span class="math notranslate nohighlight">\(\chi^2\)</span> de independencia, que mide la asociación entre dos variables categóricas. Esta prueba permite identificar variables que no contribuyen significativamente al modelo al no tener una asociación estadísticamente significativa con la variable de respuesta (Agresti, 2018). Las variables que no superaron el umbral de significancia estadística (generalmente p &lt; 0.05) fueron eliminadas del análisis. Este enfoque asegura que solo se retienen las variables categóricas que aportan información valiosa al modelo.</p>
</section>
<section id="seleccion-final-de-variables">
<h3><strong>Selección Final de Variables</strong><a class="headerlink" href="#seleccion-final-de-variables" title="Link to this heading">#</a></h3>
<p>Después de aplicar ambos métodos, se seleccionaron 9 variables que presentan baja colinealidad y alta relevancia estadística. Estas variables son las más adecuadas para ser utilizadas en el análisis predictivo y se detallan a continuación. Este proceso no solo mejora la eficiencia del modelo, sino que también asegura la robustez y la interpretabilidad del mismo, alineándose con las mejores prácticas de análisis de datos (Friedman et al., 2001).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">SelectedColumns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;action_taken&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lien_status&quot;</span><span class="p">,</span>
    <span class="s2">&quot;aus_GUS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;total_units&quot;</span><span class="p">,</span>
    <span class="s2">&quot;conforming_loan_limit&quot;</span><span class="p">,</span>
    <span class="s2">&quot;preapproval&quot;</span><span class="p">,</span>
    <span class="s2">&quot;loan_amount&quot;</span><span class="p">,</span>
    <span class="s2">&quot;income&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ffiec_median_family_income&quot;</span>
<span class="p">]</span>

<span class="n">Dataset</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="n">SelectedColumns</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">Dataset</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>action_taken</th>
      <th>lien_status</th>
      <th>aus_GUS</th>
      <th>total_units</th>
      <th>conforming_loan_limit</th>
      <th>preapproval</th>
      <th>loan_amount</th>
      <th>income</th>
      <th>ffiec_median_family_income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>115000.0</td>
      <td>NaN</td>
      <td>85600</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>525000.0</td>
      <td>NaN</td>
      <td>94100</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>115000.0</td>
      <td>NaN</td>
      <td>76500</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>165000.0</td>
      <td>NaN</td>
      <td>94100</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>NC</td>
      <td>Preapproval Not Requested</td>
      <td>2595000.0</td>
      <td>NaN</td>
      <td>76500</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="nota">
<h4><strong>Nota</strong><a class="headerlink" href="#nota" title="Link to this heading">#</a></h4>
<p>Dado que estos análisis requieren un tiempo considerable de procesamiento y consumen una cantidad significativa de recursos computacionales, se decidió llevar a cabo estos cálculos por separado y no incluir directamente el código ejecutable y las salidas en este documento. Sin embargo, para aquellos interesados en replicar el análisis, a continuación, proporcionamos el código correspondiente para la ejecución de las pruebas de VIF y Chi Cuadrado. Este código se presenta sin ejecutarlo, permitiendo su implementación en entornos de desarrollo de alto rendimiento cuando se considere necesario.</p>
</section>
</section>
</section>
<section id="analisis-de-datos-faltantes-na">
<h2><strong>Análisis de datos faltantes (NA)</strong><a class="headerlink" href="#analisis-de-datos-faltantes-na" title="Link to this heading">#</a></h2>
<p>El análisis de datos faltantes es un paso fundamental en el preprocesamiento de datos, ya que la calidad de los datos impacta directamente en los resultados de cualquier análisis o modelado posterior. La presencia de datos faltantes puede influir en los patrones y relaciones observadas, llevando a conclusiones erróneas si no se maneja adecuadamente. En esta sección, se utilizan diversas visualizaciones, como mapas de calor y gráficos de barras apiladas, para identificar y comprender la distribución de los valores faltantes en cada variable del dataset. A partir de estos análisis, se toman decisiones informadas sobre la imputación, eliminación o tratamiento de los valores faltantes, con el objetivo de mejorar la integridad y la calidad del análisis de datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MissingPercentages</span> <span class="o">=</span> <span class="p">(</span><span class="n">Dataset</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">MissingData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Faltante&#39;</span><span class="p">:</span> <span class="n">MissingPercentages</span><span class="p">,</span> <span class="s1">&#39;No Faltante&#39;</span><span class="p">:</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">MissingPercentages</span><span class="p">})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">MissingData</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;#08306b&#39;</span><span class="p">,</span> <span class="s1">&#39;#c6dbef&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">())</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Porcentaje de Valores Faltantes por Variable&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Variables del Dataset&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Porcentaje de Valores&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Faltante&#39;</span><span class="p">,</span> <span class="s1">&#39;No Faltante&#39;</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper right&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">display</span><span class="p">(</span><span class="n">MissingData</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2f75bf55bf9f5d904a5bb69af780ff8e70144a763d946ef9e82509599670a772.png" src="_images/2f75bf55bf9f5d904a5bb69af780ff8e70144a763d946ef9e82509599670a772.png" />
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Faltante</th>
      <th>No Faltante</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>income</th>
      <td>2.888274</td>
      <td>97.111726</td>
    </tr>
    <tr>
      <th>conforming_loan_limit</th>
      <td>0.222019</td>
      <td>99.777981</td>
    </tr>
    <tr>
      <th>action_taken</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>aus_GUS</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>lien_status</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>total_units</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>preapproval</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>loan_amount</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
    <tr>
      <th>ffiec_median_family_income</th>
      <td>0.000000</td>
      <td>100.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="imputacion-de-datos-faltantes">
<h3><strong>Imputación de Datos Faltantes</strong><a class="headerlink" href="#imputacion-de-datos-faltantes" title="Link to this heading">#</a></h3>
<p>En la fase de preprocesamiento de datos, es esencial abordar los valores faltantes para garantizar la integridad de los análisis posteriores y la construcción de modelos predictivos. A partir del análisis de los datos faltantes, se identificó que la variable <code class="docutils literal notranslate"><span class="pre">income</span></code> presenta un porcentaje bajo de valores faltantes (2.88%), mientras que la variable <code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code> también muestra un porcentaje menor (0.22%). Las demás variables en el conjunto de datos (<code class="docutils literal notranslate"><span class="pre">aus_GUS</span></code>, <code class="docutils literal notranslate"><span class="pre">lien_status</span></code>, <code class="docutils literal notranslate"><span class="pre">total_units</span></code>, <code class="docutils literal notranslate"><span class="pre">preapproval</span></code>, <code class="docutils literal notranslate"><span class="pre">loan_amount</span></code>, <code class="docutils literal notranslate"><span class="pre">ffiec_median_family_income</span></code>) no contienen valores faltantes, lo cual indica que no requieren ningún tratamiento adicional para la imputación.</p>
<p>Dado el bajo porcentaje de datos faltantes en las variables mencionadas, se seleccionaron métodos de imputación eficientes que minimicen los costos computacionales y eviten introducir sesgos significativos. Para la variable <code class="docutils literal notranslate"><span class="pre">income</span></code>, se utilizó la imputación por mediana. Este método es adecuado porque, según Acuña y Rodriguez (2004), la mediana es robusta frente a valores atípicos y es una opción recomendada cuando se trabaja con datos financieros que pueden tener distribuciones sesgadas. Por otro lado, la variable <code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code>, que presenta valores faltantes mínimos, también puede beneficiarse de la imputación utilizando su valor más frecuente (moda), pero dado que el porcentaje es tan bajo, cualquier método puede resultar efectivo.</p>
<section id="tratamiento-de-datos-faltantes-en-la-variable-income">
<h4><strong>Tratamiento de Datos Faltantes en la Variable “Income”</strong><a class="headerlink" href="#tratamiento-de-datos-faltantes-en-la-variable-income" title="Link to this heading">#</a></h4>
<p>En este análisis, primero nos enfocamos en la variable “income”, que es una variable clave en el dataset. Esta variable representa los ingresos en miles de dólares y es fundamental para entender el perfil financiero de los solicitantes de préstamos.</p>
<section id="verificacion-de-valores-negativos">
<h5><strong>Verificación de Valores Negativos</strong><a class="headerlink" href="#verificacion-de-valores-negativos" title="Link to this heading">#</a></h5>
<p>Antes de proceder con la imputación de los datos faltantes, es crucial verificar la presencia de valores negativos en la variable “income”. Dado que los ingresos no pueden ser negativos en un contexto financiero real, cualquier valor negativo debe considerarse un error de entrada de datos. Para manejar estos errores, se identificaron los valores negativos en “income” y se decidieron tratar como valores faltantes (NA). Esta decisión asegura que estos valores no influyan de manera incorrecta en el análisis y los modelos predictivos posteriores.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NegativeValues</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">][</span><span class="s1">&#39;income&#39;</span><span class="p">]</span>
<span class="n">NegativeValuesCount</span> <span class="o">=</span> <span class="n">NegativeValues</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="n">NegativeValuesCount</span><span class="p">,</span> <span class="n">display</span><span class="p">(</span><span class="n">NegativeValues</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>416      -28.0
450     -168.0
4356    -209.0
4361   -1063.0
4674    -224.0
Name: income, dtype: float64
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(np.int64(175), None)
</pre></div>
</div>
</div>
</div>
</section>
<section id="proceso-de-conversion-de-valores-negativos-a-na">
<h5><strong>Proceso de Conversión de Valores Negativos a NA</strong><a class="headerlink" href="#proceso-de-conversion-de-valores-negativos-a-na" title="Link to this heading">#</a></h5>
<p>Se realizó una inspección detallada de la variable “income” para detectar valores negativos. Se encontraron 175 casos con valores negativos, que fueron convertidos a NA para su tratamiento adecuado. Esta conversión es esencial porque permite un manejo consistente de los datos faltantes, manteniendo la integridad del análisis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="revision-del-porcentaje-de-datos-faltantes">
<h5><strong>Revisión del Porcentaje de Datos Faltantes:</strong><a class="headerlink" href="#revision-del-porcentaje-de-datos-faltantes" title="Link to this heading">#</a></h5>
<p>Después de convertir los valores negativos a NA, se recalculó el porcentaje de datos faltantes en la variable “income”. Este paso es importante para evaluar la magnitud de los datos que requieren imputación y para decidir el método más adecuado de imputación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MissingIncome</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Porcentaje de valores faltantes en &#39;income&#39; después de convertir negativos a NA: </span><span class="si">{</span><span class="n">MissingIncome</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Porcentaje de valores faltantes en &#39;income&#39; después de convertir negativos a NA: 2.93%
</pre></div>
</div>
</div>
</div>
</section>
<section id="imputacion-de-valores-faltantes-en-la-variable-income">
<h5><strong>Imputación de Valores Faltantes en la Variable “Income”</strong><a class="headerlink" href="#imputacion-de-valores-faltantes-en-la-variable-income" title="Link to this heading">#</a></h5>
<p>Para la variable “income”, la imputación más adecuada sería utilizar la mediana de la distribución. La razón detrás de esta elección es que la mediana es una medida robusta de tendencia central que no se ve afectada por valores atípicos. Como se observó previamente la distribución de “income” es asimétrica hacia la derecha (sesgada), lo que hace que la media no sea un buen representante central de los datos. La imputación por la mediana, por lo tanto, ayudará a mantener la distribución original de los datos lo más cercana posible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MedianIncome</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">MedianIncome</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mediana utilizada para la imputación en &#39;income&#39;: </span><span class="si">{</span><span class="n">MedianIncome</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mediana utilizada para la imputación en &#39;income&#39;: 107.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacion-de-la-distribucion-de-income-antes-y-despues-de-la-imputacion">
<h5><strong>Visualización de la Distribución de “Income” Antes y Después de la Imputación</strong><a class="headerlink" href="#visualizacion-de-la-distribucion-de-income-antes-y-despues-de-la-imputacion" title="Link to this heading">#</a></h5>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;#0096c7&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#0096c7&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Income antes de la Imputación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Income (en miles de dólares)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>

<span class="c1"># Visualización después de la imputación</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de Income después de la Imputación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Income (en miles de dólares)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/152fe3cc25ff2d43a4b46e7c5afcba9f194f725a1b11efcad1cd5139eede423a.png" src="_images/152fe3cc25ff2d43a4b46e7c5afcba9f194f725a1b11efcad1cd5139eede423a.png" />
</div>
</div>
<p>En esta gráfica de distribución de la variable “Income” antes y después de la imputación, podemos observar que ambas distribuciones parecen extremadamente concentradas en un rango muy estrecho. Este comportamiento puede deberse a la presencia de valores atípicos (outliers) que están distorsionando la visualización.</p>
<p>En el gráfico antes de la imputación, la mayoría de los datos están concentrados cerca de 0, y en el gráfico después de la imputación, se mantiene el mismo patrón. Esto sugiere que, aunque los valores faltantes han sido reemplazados, los valores extremos pueden estar afectando la distribución general de la variable, lo que resulta en una gráfica con un rango de ingresos muy limitado.</p>
<p>Es posible que existan valores muy grandes o muy pequeños en “Income” que no son representativos de la mayoría de los datos. Estos valores atípicos podrían estar causando que el histograma aparezca comprimido, haciendo difícil ver la verdadera distribución de los ingresos. Para obtener una mejor comprensión, sería necesario realizar un análisis de detección y tratamiento de valores atípicos, lo que podría incluir la transformación de datos o la eliminación de estos valores extremos.</p>
</section>
</section>
<section id="tratamiento-de-datos-faltantes-en-la-variable-conforming-loan-limit">
<h4><strong>Tratamiento de Datos Faltantes en la Variable “conforming_loan_limit”</strong><a class="headerlink" href="#tratamiento-de-datos-faltantes-en-la-variable-conforming-loan-limit" title="Link to this heading">#</a></h4>
<section id="imputacion-de-datos-faltantes-en-la-variable-conforming-loan-limit">
<h5><strong>Imputación de Datos Faltantes en la Variable conforming_loan_limit</strong><a class="headerlink" href="#imputacion-de-datos-faltantes-en-la-variable-conforming-loan-limit" title="Link to this heading">#</a></h5>
<p>La variable  <code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code> es categórica y clasifica los préstamos en “C” (Conforming), “NC” (Nonconforming), “U” (Undetermined) y “NA” (Not Applicable). Sin embargo, existen valores faltantes en esta columna, lo que requiere un tratamiento adecuado antes de continuar con cualquier análisis o modelado predictivo. Dado que los datos son categóricos y solo presentan dos categorías, la mejor estrategia para imputar los valores faltantes es la imputación por moda (el valor más frecuente). Este enfoque es apropiado cuando se trabaja con datos categóricos que tienen una distribución sesgada, como es el caso con c<code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Valores únicos en &#39;conforming_loan_limit&#39;:&quot;</span><span class="p">,</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

<span class="n">MissingConforming</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cantidad de valores faltantes en &#39;conforming_loan_limit&#39;: </span><span class="si">{</span><span class="n">MissingConforming</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">MissingPer</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Porcentaje de valores faltantes en &#39;conforming_loan_limit&#39;: </span><span class="si">{</span><span class="n">MissingPer</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Valores únicos en &#39;conforming_loan_limit&#39;: [&#39;C&#39;, &#39;NC&#39;, NaN]
Categories (2, object): [&#39;C&#39;, &#39;NC&#39;]
Cantidad de valores faltantes en &#39;conforming_loan_limit&#39;: 985
Porcentaje de valores faltantes en &#39;conforming_loan_limit&#39;: 0.22%
</pre></div>
</div>
</div>
</div>
<p>Al verificar los datos, se encontraron 985 valores faltantes en esta variable, representando un pequeño porcentaje del total. Después de calcular la moda de la columna, que resultó ser “C” (Conforming), utilizamos este valor para imputar los datos faltantes. Como siguiente paso, realizamos la imputación con base en la moda.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ModeConforming</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>  
<span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">ModeConforming</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Se ha imputado &#39;conforming_loan_limit&#39; con su moda: </span><span class="si">{</span><span class="n">ModeConforming</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Se ha imputado &#39;conforming_loan_limit&#39; con su moda: C
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacion-de-la-distribucion-antes-y-despues-de-la-imputacion">
<h5><strong>Visualización de la Distribución antes y después de la Imputación</strong><a class="headerlink" href="#visualizacion-de-la-distribucion-antes-y-despues-de-la-imputacion" title="Link to this heading">#</a></h5>
<p>La visualización de la distribución de los datos antes y después de la imputación es fundamental para evaluar el impacto del proceso de imputación en la estructura de los datos. En este caso, la gráfica muestra la distribución de la variable conforming_loan_limit antes de la imputación (con valores faltantes eliminados) y después de la imputación (con valores faltantes reemplazados por la moda).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Distribución antes de la imputación </span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">Dataset</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]),</span> <span class="n">palette</span> <span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribución de &#39;conforming_loan_limit&#39; antes de la Imputación&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Conforming Loan Limit&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">)</span>

<span class="c1"># Distribución después de la imputación</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribución de &#39;conforming_loan_limit&#39; después de la Imputación&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Conforming Loan Limit&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f46f8e18ce85e12f03046dab49db12fdf8e74f053200fe401fc32997c0a0ee3e.png" src="_images/f46f8e18ce85e12f03046dab49db12fdf8e74f053200fe401fc32997c0a0ee3e.png" />
</div>
</div>
<p>La distribución de la variable antes de la imputación muestra que la gran mayoría de los valores son “C” (Conforming), mientras que una pequeña proporción corresponde a “NC” (Nonconforming). Esta distribución se basa solo en los datos disponibles, ya que los valores faltantes no se incluyen en esta representación. La categoría “C” es claramente dominante en el dataset. Luego de la imputación con la moda, que es “C”, todos los valores faltantes han sido reemplazados por la categoría “C”. Como resultado, la gráfica muestra un aumento en la frecuencia de la categoría “C” después de la imputación, mientras que la frecuencia de la categoría “NC” permanece prácticamente sin cambios. Este aumento se debe a la adición de los valores faltantes como “C”, lo que no altera de manera significativa la distribución general de los datos, dado que “C” ya era la categoría dominante.</p>
<p>La imputación por moda es una estrategia efectiva para manejar datos faltantes en una variable categórica donde una categoría es claramente dominante, como se observa en <code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code>. Este método no distorsiona la distribución general y mantiene la consistencia de los datos. Sin embargo, es importante tener en cuenta que la elección de la moda como método de imputación puede reforzar la frecuencia de la categoría dominante, lo cual es aceptable en casos donde se puede justificar que los valores faltantes son más propensos a pertenecer a la categoría más frecuente.</p>
</section>
</section>
</section>
</section>
<section id="analisis-de-datos-atipicos">
<h2><strong>Análisis de Datos Atípicos</strong><a class="headerlink" href="#analisis-de-datos-atipicos" title="Link to this heading">#</a></h2>
<p>Los outliers, o datos atípicos, son observaciones que se desvían significativamente de otros puntos del conjunto de datos y pueden impactar negativamente en el análisis estadístico y en el rendimiento de los modelos predictivos. La presencia de outliers puede sesgar los resultados y afectar la precisión de los modelos, lo que hace esencial su identificación y tratamiento. En esta sección, se abordan las técnicas más reconocidas para la detección de outliers, como los diagramas de caja (boxplots), el cálculo del Z-Score y el método del rango intercuartílico (IQR). Además, se exploran estrategias para su tratamiento, incluyendo la imputación con la mediana, la transformación de variables y la eliminación de valores extremos, fundamentando cada método con referencias académicas.</p>
<section id="identificacion-de-outliers">
<h3><strong>Identificación de Outliers</strong><a class="headerlink" href="#identificacion-de-outliers" title="Link to this heading">#</a></h3>
<section id="identificacion-de-outliers-utilizando-diagramas-de-caja-boxplots">
<h4><strong>Identificación de Outliers Utilizando Diagramas de Caja (Boxplots)</strong><a class="headerlink" href="#identificacion-de-outliers-utilizando-diagramas-de-caja-boxplots" title="Link to this heading">#</a></h4>
<p>Los diagramas de caja, o <em>boxplots</em>, son una herramienta gráfica ampliamente utilizada en estadística para identificar posibles outliers. Según McGill et al. (1978), un boxplot muestra la distribución de una variable a través de sus cuartiles y los “bigotes” que indican el rango de variación normal de los datos. Los puntos que caen fuera de estos “bigotes” son considerados como potenciales outliers. Esta visualización proporciona una representación intuitiva de los datos, facilitando la identificación de valores anómalos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">NumVars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span> <span class="s1">&#39;ffiec_median_family_income&#39;</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">NumVars</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Dataset</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span> <span class="s2">&quot;#023e8a&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Boxplot de </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/474cf242002a14a5bbed3cecfff4bc4533dc6100729618501b0cce3c1ec23489.png" src="_images/474cf242002a14a5bbed3cecfff4bc4533dc6100729618501b0cce3c1ec23489.png" />
</div>
</div>
<p>Este código genera un boxplot para cada variable numérica del dataset. Las observaciones fuera del rango de los “bigotes” se consideran como potenciales outliers.</p>
</section>
<section id="deteccion-de-outliers-mediante-el-calculo-del-z-score">
<h4><strong>Detección de Outliers Mediante el Cálculo del Z-Score</strong><a class="headerlink" href="#deteccion-de-outliers-mediante-el-calculo-del-z-score" title="Link to this heading">#</a></h4>
<p>El Z-Score es una técnica basada en la estadística que mide la desviación estándar de un punto de datos con respecto a la media del conjunto. Según Iglewicz y Hoaglin (1993), los valores con un Z-Score superior a 3 o inferior a -3 suelen considerarse outliers. Esta técnica es particularmente útil para datos que siguen una distribución normal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">zscore</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Cálculo del Z-Score para las variables numéricas</span>
<span class="n">zScores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">zscore</span><span class="p">(</span><span class="n">Dataset</span><span class="p">[</span><span class="n">NumVars</span><span class="p">]))</span>

<span class="n">threshold</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">outliers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">zScores</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">)</span>

<span class="n">outliers_indices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">outliers</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

<span class="n">outliers_count</span> <span class="o">=</span> <span class="p">(</span><span class="n">zScores</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Umbral de Z-Score utilizado: </span><span class="si">{</span><span class="n">threshold</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de filas con al menos un outlier: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">outliers_indices</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Número de outliers detectados por variable:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">NumVars</span><span class="p">,</span> <span class="n">outliers_count</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> outliers&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Vista previa de algunas filas con outliers:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">Dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">outliers_indices</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Umbral de Z-Score utilizado: 3
Total de filas con al menos un outlier: 4720

Número de outliers detectados por variable:
  - income: 3 outliers
  - loan_amount: 774 outliers
  - ffiec_median_family_income: 3949 outliers

Vista previa de algunas filas con outliers:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>action_taken</th>
      <th>lien_status</th>
      <th>aus_GUS</th>
      <th>total_units</th>
      <th>conforming_loan_limit</th>
      <th>preapproval</th>
      <th>loan_amount</th>
      <th>income</th>
      <th>ffiec_median_family_income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>8192</th>
      <td>Loan Originated</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>NC</td>
      <td>Preapproval Not Requested</td>
      <td>2855000.0</td>
      <td>3315.0</td>
      <td>122300</td>
    </tr>
    <tr>
      <th>358209</th>
      <td>Application Denied</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>135000.0</td>
      <td>109.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>380664</th>
      <td>Application Denied</td>
      <td>Subordinate Lien</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>5000.0</td>
      <td>64.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>278533</th>
      <td>Application Denied</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>35000.0</td>
      <td>18.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>358210</th>
      <td>Application Denied</td>
      <td>First Liena</td>
      <td>0</td>
      <td>1</td>
      <td>C</td>
      <td>Preapproval Not Requested</td>
      <td>285000.0</td>
      <td>52.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>El código anterior calcula el Z-Score para cada variable numérica y detecta las observaciones que son outliers según el umbral establecido de 3 desviaciones estándar.</p>
</section>
<section id="metodo-del-rango-intercuartilico-iqr-para-deteccion-de-outliers">
<h4><strong>Método del Rango Intercuartílico (IQR) para Detección de Outliers</strong><a class="headerlink" href="#metodo-del-rango-intercuartilico-iqr-para-deteccion-de-outliers" title="Link to this heading">#</a></h4>
<p>El método del rango intercuartílico (IQR) es una técnica robusta para la detección de outliers que no asume una distribución normal de los datos. Tukey (1977) propone que cualquier observación que caiga fuera del rango entre el primer cuartil (Q1) y el tercer cuartil (Q3), más o menos 1.5 veces el IQR, se considere un outlier. Esta técnica es especialmente eficaz para identificar valores extremos en distribuciones asimétricas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">OutliersIQR</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">variable</span><span class="p">):</span>
    <span class="n">Q1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
    <span class="n">Q3</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
    <span class="n">outliers</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span><span class="p">))]</span>
    <span class="k">return</span> <span class="n">outliers</span>

<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">NumVars</span><span class="p">:</span>
    <span class="n">outliers_iqr</span> <span class="o">=</span> <span class="n">OutliersIQR</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Outliers detectados en </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s1"> utilizando el método IQR:&#39;</span><span class="p">,</span> <span class="n">outliers_iqr</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Outliers detectados en income utilizando el método IQR: 31682
Outliers detectados en loan_amount utilizando el método IQR: 20504
Outliers detectados en ffiec_median_family_income utilizando el método IQR: 3949
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="estrategias-de-tratamiento-de-outliers">
<h3><strong>Estrategias de Tratamiento de Outliers</strong><a class="headerlink" href="#estrategias-de-tratamiento-de-outliers" title="Link to this heading">#</a></h3>
<p>Una vez identificados los outliers, es crucial decidir cómo manejarlos. Según Aggarwal (2016), las estrategias comunes incluyen:</p>
<ul class="simple">
<li><p><strong>Imputación:</strong> Reemplazar los outliers con la mediana es útil cuando los datos atípicos son errores o entradas erróneas. La mediana es robusta a los outliers y no afecta significativamente la distribución central.</p></li>
<li><p><strong>Transformación:</strong> Aplicar transformaciones, como la logarítmica, reduce el impacto de los outliers y es adecuado para datos sesgados positivamente.</p></li>
<li><p><strong>Eliminación:</strong> Eliminar outliers es viable cuando estos representan errores de datos evidentes o son irrelevantes para el análisis.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Imputación de outliers con la mediana</span>

<span class="k">def</span> <span class="nf">ImputeOutliersMedian</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">variable</span><span class="p">):</span>
    <span class="n">median</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
    <span class="n">Q1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
    <span class="n">Q3</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">-</span> <span class="n">Q1</span>
    <span class="n">lower_bound</span> <span class="o">=</span> <span class="n">Q1</span> <span class="o">-</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
    <span class="n">upper_bound</span> <span class="o">=</span> <span class="n">Q3</span> <span class="o">+</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="n">IQR</span>
    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lower_bound</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">upper_bound</span><span class="p">),</span> <span class="n">variable</span><span class="p">]</span> <span class="o">=</span> <span class="n">median</span>

<span class="c1"># Aplicar imputación a las variables</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">NumVars</span><span class="p">:</span>
    <span class="n">ImputeOutliersMedian</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizacion-de-la-distribucion-despues-del-tratamiento-de-outliers">
<h3><strong>Visualización de la Distribución Después del Tratamiento de Outliers</strong><a class="headerlink" href="#visualizacion-de-la-distribucion-despues-del-tratamiento-de-outliers" title="Link to this heading">#</a></h3>
<p>Es importante visualizar las distribuciones después del tratamiento de outliers para asegurarse de que las estrategias aplicadas no distorsionen significativamente los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">NumVars</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">)</span>  
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribución de </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s1"> después del tratamiento&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/86db30bedd93de35bf7bf8831466c3c265b9b689be38fe43038bfe877c5fb40b.png" src="_images/86db30bedd93de35bf7bf8831466c3c265b9b689be38fe43038bfe877c5fb40b.png" />
</div>
</div>
<p>La gráfica muestra la distribución de tres variables numéricas (<code class="docutils literal notranslate"><span class="pre">income</span></code>, <code class="docutils literal notranslate"><span class="pre">loan_amount</span></code> y <code class="docutils literal notranslate"><span class="pre">ffiec_median_family_income</span></code>) después del tratamiento de outliers. A continuación, se presenta una interpretación detallada de cada una:</p>
<ol class="arabic simple">
<li><p><strong>Distribucción de</strong> <code class="docutils literal notranslate"><span class="pre">Income</span></code>: La variable presenta una distribución sesgada a la derecha, lo que es característico de datos que están agrupados hacia el extremo inferior del rango de valores con una larga cola hacia la derecha. Esto sugiere que la mayoría de los ingresos reportados están en los niveles más bajos y medios, mientras que hay menos casos con ingresos muy altos. La línea KDE superpuesta resalta esta concentración de datos alrededor del rango de ingresos bajos a medios (aproximadamente entre 50 y 100 miles de dólares). El pico pronunciado también puede indicar la presencia de muchos valores similares o agrupados alrededor de un punto específico, lo cual podría ser un resultado de la imputación realizada.</p></li>
<li><p><strong>Distribución de</strong> <code class="docutils literal notranslate"><span class="pre">loan_amount</span></code>: Esta distribución también muestra una forma sesgada a la derecha, aunque menos pronunciada que la anterior. La mayor concentración de los datos se encuentra en torno a 300,000 a 350,000 dólares. Esto sugiere que la mayoría de los préstamos solicitados están en este rango, con menos préstamos significativamente menores o mayores. La distribución sigue una curva casi normal pero con una ligera cola hacia la derecha, lo que sugiere que hay algunos préstamos de montos considerablemente altos. El tratamiento de outliers parece haber ayudado a suavizar la distribución, pero todavía hay valores que podrían considerarse extremos.</p></li>
<li><p><strong>Distribución de</strong> <code class="docutils literal notranslate"><span class="pre">ffiec_median_family_income</span></code>: La variable tiene una distribución multimodal, es decir, presenta varios picos. Esto sugiere la existencia de varios subgrupos dentro del conjunto de datos con diferentes niveles de ingresos familiares medianos, lo cual podría estar relacionado con diferentes áreas geográficas o segmentos de la población. El patrón no sigue una distribución normal, indicando posibles diferencias en la estructura económica o demográfica de las áreas estudiadas. A diferencia de las otras dos variables, esta distribución no parece sesgada y es más irregular, lo que podría reflejar la variabilidad en los datos económicos medianos en distintas regiones.</p></li>
</ol>
<p>En general, las distribuciones indican que, aunque el tratamiento de outliers ha ayudado a reducir algunos valores extremos, cada variable conserva características intrínsecas de su distribución original. Esto puede influir en cómo se interpreten los datos y en el desarrollo de modelos predictivos.</p>
</section>
</section>
<section id="visualizacion-de-variables-de-estudio">
<h2><strong>Visualización de Variables de Estudio</strong><a class="headerlink" href="#visualizacion-de-variables-de-estudio" title="Link to this heading">#</a></h2>
<p>La visualización de datos es una herramienta fundamental en el análisis exploratorio de datos (EDA) ya que permite entender mejor las características de las variables de estudio, sus distribuciones y relaciones. A través de representaciones gráficas, como histogramas, diagramas de caja (boxplots), mapas de calor y gráficos de dispersión, es posible identificar patrones, tendencias y posibles anomalías en los datos. En esta sección, se presentan visualizaciones detalladas de las principales variables de estudio del dataset, con el objetivo de facilitar la interpretación y obtener insights relevantes que guíen la construcción de modelos predictivos y la toma de decisiones basada en datos.</p>
<section id="variable-respuesta">
<h3><strong>Variable Respuesta</strong><a class="headerlink" href="#variable-respuesta" title="Link to this heading">#</a></h3>
<p>La variable de respuesta en este análisis es action_taken, que indica la decisión tomada sobre el crédito hipotecario. Esta variable está codificada de tal manera que el valor 1 representa la aceptación del crédito, mientras que el valor 0 denota la negación del mismo. Comprender la distribución de esta variable es crucial para evaluar el comportamiento de los modelos predictivos y para entender los factores que influyen en las decisiones de aprobación o rechazo. A continuación, se presenta un gráfico de barras que muestra el conteo de cada categoría de action_taken, proporcionando una visión general de la proporción de créditos aprobados y rechazados en el dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>

<span class="n">blue_palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>

<span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>  
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Denegado&quot;</span><span class="p">,</span> <span class="s2">&quot;Aprobado&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Variable respuesta&quot;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> 
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/d492dc17bb9be814cc8bfc433c40acf30062bd57d50fff616d52bbb51490279d.png"><img alt="_images/d492dc17bb9be814cc8bfc433c40acf30062bd57d50fff616d52bbb51490279d.png" src="_images/d492dc17bb9be814cc8bfc433c40acf30062bd57d50fff616d52bbb51490279d.png" style="width: 1000px; height: 600px;" /></a>
</div>
</div>
</section>
<section id="variables-descriptivas">
<h3><strong>Variables descriptivas</strong><a class="headerlink" href="#variables-descriptivas" title="Link to this heading">#</a></h3>
<p>La visualización de las variables descriptivas permite entender mejor la distribución y características de cada variable independiente en el conjunto de datos.  A continuación, se presentan las visualizaciones de las variables descriptivas seleccionadas para el estudio.</p>
<section id="variables-cualitativas">
<h4><strong>Variables cualitativas</strong><a class="headerlink" href="#variables-cualitativas" title="Link to this heading">#</a></h4>
<section id="variable-lien-status">
<h5><strong>Variable Lien Status</strong><a class="headerlink" href="#variable-lien-status" title="Link to this heading">#</a></h5>
<p>El “lien status” se refiere al estado de un gravamen o carga legal sobre una propiedad. Un gravamen es una reclamación legal contra una propiedad que se puede utilizar como garantía para pagar una deuda. Esta información es relevante para asegurarse de que no haya deudas pendientes que afecten la propiedad en cuestión.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">blue_palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>

<span class="n">bar_plot</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(lien_status)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;First Lien&quot;</span><span class="p">,</span> <span class="s2">&quot;Subordinate Lien&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Gráfico de barras acción contra estado de Lien&quot;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Estado&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">proportion_plot</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;lien_status&#39;</span><span class="p">),</span> 
           <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(lien_status)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;First Lien&quot;</span><span class="p">,</span> <span class="s2">&quot;Subordinate Lien&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de acción contra estado de Lien&quot;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Estado&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">bar_plot</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">proportion_plot</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                              </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span> <span class="n">line</span> <span class="mi">38</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">blue_palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="n">bar_plot</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(lien_status)&#39;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">34</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">35</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">37</span> <span class="n">proportion_plot</span> <span class="o">=</span> <span class="p">(</span>
<span class="ne">---&gt; </span><span class="mi">38</span>     <span class="n">ggplot</span><span class="p">(</span><span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;lien_status&#39;</span><span class="p">),</span> 
<span class="g g-Whitespace">     </span><span class="mi">39</span>            <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(lien_status)&#39;</span><span class="p">))</span>
<span class="g g-Whitespace">     </span><span class="mi">40</span>     <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">41</span>     <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">42</span>         <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">43</span>         <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;First Lien&quot;</span><span class="p">,</span> <span class="s2">&quot;Subordinate Lien&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">44</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">45</span>     <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">46</span>         <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de acción contra estado de Lien&quot;</span><span class="p">,</span> 
<span class="g g-Whitespace">     </span><span class="mi">47</span>         <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
<span class="g g-Whitespace">     </span><span class="mi">48</span>         <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span> 
<span class="g g-Whitespace">     </span><span class="mi">49</span>         <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Estado&#39;</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">51</span>     <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
<span class="g g-Whitespace">     </span><span class="mi">52</span>     <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
<span class="g g-Whitespace">     </span><span class="mi">53</span>         <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
<span class="g g-Whitespace">     </span><span class="mi">54</span>         <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
<span class="g g-Whitespace">     </span><span class="mi">55</span>         <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
<span class="g g-Whitespace">     </span><span class="mi">56</span>         <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
<span class="g g-Whitespace">     </span><span class="mi">57</span>         <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
<span class="g g-Whitespace">     </span><span class="mi">58</span>         <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
<span class="g g-Whitespace">     </span><span class="mi">59</span>         <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
<span class="g g-Whitespace">     </span><span class="mi">60</span>         <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
<span class="g g-Whitespace">     </span><span class="mi">61</span>         <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span>         <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
<span class="g g-Whitespace">     </span><span class="mi">63</span>     <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">64</span> <span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">66</span> <span class="n">bar_plot</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">67</span> <span class="n">proportion_plot</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;to_proportions&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>Los dos gráficos presentados ofrecen una perspectiva complementaria sobre la relación entre la acción tomada (<code class="docutils literal notranslate"><span class="pre">action_taken</span></code>) y el estado del lien (<code class="docutils literal notranslate"><span class="pre">lien_status</span></code>). El primer gráfico de barras muestra el conteo de aplicaciones de crédito hipotecario que fueron aprobadas o denegadas, segmentadas por el tipo de lien (<code class="docutils literal notranslate"><span class="pre">First</span> <span class="pre">Lien</span></code> o <code class="docutils literal notranslate"><span class="pre">Subordinate</span> <span class="pre">Lien</span></code>). Es evidente que la mayoría de las aprobaciones y denegaciones están asociadas con el <code class="docutils literal notranslate"><span class="pre">First</span> <span class="pre">Lien</span></code>, aunque el <code class="docutils literal notranslate"><span class="pre">Subordinate</span> <span class="pre">Lien</span></code> también tiene presencia, especialmente en las aplicaciones denegadas.</p>
<p>El segundo gráfico, que muestra las proporciones, permite una interpretación más matizada de los datos. Aquí, se presenta la proporción de <code class="docutils literal notranslate"><span class="pre">First</span> <span class="pre">Lien</span></code> y <code class="docutils literal notranslate"><span class="pre">Subordinate</span> <span class="pre">Lien</span></code> dentro de las categorías de <code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Denied</span></code> y <code class="docutils literal notranslate"><span class="pre">Loan</span> <span class="pre">Originated</span></code>. Aunque el primer gráfico resalta el volumen, el segundo gráfico revela que, proporcionalmente, los <code class="docutils literal notranslate"><span class="pre">Subordinate</span> <span class="pre">Liens</span></code> están más presentes en las aplicaciones denegadas que en las aprobadas, lo cual es una observación importante para entender la dinámica de los créditos según el tipo de lien.</p>
<p>La combinación de estos dos gráficos es crucial porque el gráfico de barras por conteo brinda un contexto del volumen absoluto, mientras que el gráfico de proporciones resalta las relaciones relativas entre las variables, proporcionando un análisis más completo y detallado.</p>
</section>
<section id="variable-aus-gus">
<h5><strong>Variable AUS: GUS</strong><a class="headerlink" href="#variable-aus-gus" title="Link to this heading">#</a></h5>
<p>AUS significa “Automated Underwriting System” (Sistema de Subrogación Automatizado). En el contexto de HMDA (Home Mortgage Disclosure Act), es necesario que las instituciones financieras informen el nombre del AUS utilizado y los resultados generados como parte de sus datos de HMDA. Esto se requiere para asegurar la transparencia y el cumplimiento en el proceso de préstamos hipotecarios.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">blue_palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#0096c7&#39;</span><span class="p">,</span> <span class="s1">&#39;#03045e&#39;</span><span class="p">]</span>

<span class="n">bar_plot_gus</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(aus_GUS)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>  
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;No GUS&quot;</span><span class="p">,</span> <span class="s2">&quot;Con GUS&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Gráfico de barras decisión contra presencia de GUS&quot;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;GUS&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">proportion_plot_gus</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;aus_GUS&#39;</span><span class="p">),</span> 
           <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(aus_GUS)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;No GUS&quot;</span><span class="p">,</span> <span class="s2">&quot;Con GUS&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de decisión contra presencia de GUS&quot;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;GUS&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">bar_plot_gus</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proportion_plot_gus</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/b41deaafa4171f2934131235f8c485f824b708fa2a58e195cb18ff2613019a9f.png"><img alt="_images/b41deaafa4171f2934131235f8c485f824b708fa2a58e195cb18ff2613019a9f.png" src="_images/b41deaafa4171f2934131235f8c485f824b708fa2a58e195cb18ff2613019a9f.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/cff131e1246d812972c64c98ac718af28db168c6c6fc6c69b000fdb95d0a62d7.png"><img alt="_images/cff131e1246d812972c64c98ac718af28db168c6c6fc6c69b000fdb95d0a62d7.png" src="_images/cff131e1246d812972c64c98ac718af28db168c6c6fc6c69b000fdb95d0a62d7.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Los gráficos presentados ofrecen una comparación visual de la relación entre la acción tomada (<code class="docutils literal notranslate"><span class="pre">action_taken</span></code>) y la presencia del sistema de puntuación automatizado GUS (<code class="docutils literal notranslate"><span class="pre">aus_GUS</span></code>).</p>
<ul class="simple">
<li><p><strong>Gráfico de barras acción contra presencia de GUS:</strong> Este gráfico de barras apiladas muestra la distribución de aprobaciones (<code class="docutils literal notranslate"><span class="pre">Loan</span> <span class="pre">Originated</span></code>) y denegaciones de préstamos (<code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Denied</span></code>) en función de la presencia o ausencia de GUS. La mayoría de los préstamos originados corresponden a la ausencia de GUS (barra azul clara), mientras que tanto las aprobaciones como las denegaciones que involucran GUS (barra azul oscura) son mínimas. Esto indica que el uso de GUS no es común en el proceso de originación de préstamos o tiene poca influencia en la decisión final.</p></li>
<li><p><strong>Proporción de acción contra presencia de GUS:</strong> Este gráfico de proporciones muestra la misma relación, pero expresada como proporción en lugar de conteo. Podemos ver que, en ambos casos (préstamos aprobados y denegados), la proporción de instancias donde GUS está presente es mínima en comparación con la ausencia de GUS. Esto refuerza la idea de que la presencia de GUS tiene un impacto limitado en la determinación del resultado de la solicitud del préstamo.</p></li>
</ul>
</section>
<section id="variable-total-units">
<h5><strong>Variable Total Units</strong><a class="headerlink" href="#variable-total-units" title="Link to this heading">#</a></h5>
<p>El término “total de unidades” se refiere al número total de unidades residenciales en todas las propiedades que garantizan un préstamo cubierto bajo la Ley de Transparencia en la Vivienda (HMDA, por sus siglas en inglés). Especifica cuántas unidades de vivienda están relacionadas con el préstamo que se reporta.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">unit_mapping</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;1 Unidad&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;2-4 Unidades&#39;</span><span class="p">,</span>
    <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="s1">&#39;2-4 Unidades&#39;</span><span class="p">,</span>
    <span class="s1">&#39;5-24&#39;</span><span class="p">:</span> <span class="s1">&#39;5-9 Unidades&#39;</span>
<span class="p">}</span>

<span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;total_units_mapped&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;total_units&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">unit_mapping</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;10+ Unidades&#39;</span><span class="p">)</span>

<span class="n">blue_palette_units</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#03045e&#39;</span><span class="p">,</span> <span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0077b6&#39;</span><span class="p">,</span> <span class="s1">&#39;#00b4d8&#39;</span><span class="p">]</span>

<span class="n">bar_plot_units</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(total_units_mapped)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_units</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;1 Unidad&quot;</span><span class="p">,</span> <span class="s2">&quot;2-4 Unidades&quot;</span><span class="p">,</span> <span class="s2">&quot;5-9 Unidades&quot;</span><span class="p">,</span> <span class="s2">&quot;10+ Unidades&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Gráfico de barras Decisión contra el total de unidades&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;No. Unidades&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">df_proportions</span> <span class="o">=</span> <span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;total_units_mapped&#39;</span><span class="p">)</span>

<span class="n">proportion_plot_units</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">df_proportions</span><span class="p">,</span>
           <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(total_units_mapped)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_units</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;1 Unidad&quot;</span><span class="p">,</span> <span class="s2">&quot;2-4 Unidades&quot;</span><span class="p">,</span> <span class="s2">&quot;5-9 Unidades&quot;</span><span class="p">,</span> <span class="s2">&quot;10+ Unidades&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de Decisión contra el total de unidades&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;No. Unidades&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#005f73&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">bar_plot_units</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proportion_plot_units</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/394ed659857bdd05873539ec1a10896aa9a2a8465ab492d479688d90ddee4d47.png"><img alt="_images/394ed659857bdd05873539ec1a10896aa9a2a8465ab492d479688d90ddee4d47.png" src="_images/394ed659857bdd05873539ec1a10896aa9a2a8465ab492d479688d90ddee4d47.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/06703083e3a007ab03398c297b649ca834d215dde28b7a3a1183e24abfaec041.png"><img alt="_images/06703083e3a007ab03398c297b649ca834d215dde28b7a3a1183e24abfaec041.png" src="_images/06703083e3a007ab03398c297b649ca834d215dde28b7a3a1183e24abfaec041.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>En los gráficos presentados se analiza la relación entre la variable de decisión (<code class="docutils literal notranslate"><span class="pre">action_taken</span></code>) y el número de unidades totales (<code class="docutils literal notranslate"><span class="pre">total_units</span></code>). El primer gráfico de barras muestra el conteo de solicitudes de préstamos aprobadas y denegadas según las distintas categorías de unidades totales. Se observa que la mayoría de los préstamos, tanto aprobados como denegados, están asociados con un número bajo de unidades, indicando que la variable total_units está dominada por préstamos de propiedades con un menor número de unidades.</p>
<p>El segundo gráfico, que presenta la proporción de decisiones según el número de unidades, revela que, independientemente de la decisión de aprobar o denegar el préstamo, la distribución entre las categorías de <code class="docutils literal notranslate"><span class="pre">total_units</span></code> permanece casi constante. Esto sugiere que el número de unidades no tiene una influencia notable en la decisión de aprobar o rechazar un préstamo, aunque sigue siendo predominante el segmento de una unidad.</p>
</section>
<section id="varible-conforming-loan-limit">
<h5><strong>Varible Conforming Loan Limit</strong><a class="headerlink" href="#varible-conforming-loan-limit" title="Link to this heading">#</a></h5>
<p>Un límite de préstamo conforme es el monto máximo que un préstamo hipotecario puede tener para ser considerado “conforme”. Esto significa que el préstamo debe cumplir con los límites establecidos por la Agencia Federal de Financiamiento de la Vivienda (FHFA) y los criterios de financiación de Fannie Mae y Freddie Mac.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>

<span class="n">blue_palette_limit</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>

<span class="n">Data</span> <span class="o">=</span> <span class="n">Dataset</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">])</span>  
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Data</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  

<span class="n">bar_plot_limit</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(conforming_loan_limit)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_limit</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Conforme&quot;</span><span class="p">,</span> <span class="s2">&quot;No Conforme&quot;</span><span class="p">]</span>  
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Gráfico de barras acción contra el cumplimiento del límite&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Acción&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Cumplimiento&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">df_proportions_limit</span> <span class="o">=</span> <span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">)</span>
<span class="n">df_proportions_limit</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_proportions_limit</span><span class="p">[</span><span class="s1">&#39;conforming_loan_limit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  

<span class="n">proportion_plot_limit</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">df_proportions_limit</span><span class="p">,</span>
           <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(conforming_loan_limit)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_limit</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Conforme&quot;</span><span class="p">,</span> <span class="s2">&quot;No Conforme&quot;</span><span class="p">]</span>  
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de acción contra el cumplimiento del límite&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Cumplimiento&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">bar_plot_limit</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proportion_plot_limit</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/cb29ee509b3f275bcda62921d14175c43e9de096879c08b7a419e389973042a2.png"><img alt="_images/cb29ee509b3f275bcda62921d14175c43e9de096879c08b7a419e389973042a2.png" src="_images/cb29ee509b3f275bcda62921d14175c43e9de096879c08b7a419e389973042a2.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/aef7e86d6f7113ecb2a95560e47206d702940c0a45bf131f18608ec9d8d0beba.png"><img alt="_images/aef7e86d6f7113ecb2a95560e47206d702940c0a45bf131f18608ec9d8d0beba.png" src="_images/aef7e86d6f7113ecb2a95560e47206d702940c0a45bf131f18608ec9d8d0beba.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>Los dos gráficos muestran la relación entre la decisión de aprobar o denegar un préstamo y el cumplimiento del límite de préstamo conforme (<code class="docutils literal notranslate"><span class="pre">conforming_loan_limit</span></code>). El primer gráfico ilustra la distribución de los préstamos aprobados y denegados en función de si cumplen o no con el límite conforme. Es evidente que la mayoría de los préstamos aprobados están dentro del límite conforme, mientras que una proporción relativamente pequeña de los préstamos aprobados no cumplen con este límite.</p>
<p>El segundo gráfico muestra las proporciones de decisiones de préstamos con respecto al cumplimiento del límite. A través de este gráfico, se observa que tanto para los préstamos aprobados como para los denegados, la proporción de aquellos que cumplen con el límite conforme es significativamente mayor. Esta visualización refuerza la idea de que cumplir con el límite de préstamo conforme es un factor relevante en la aprobación de préstamos.</p>
</section>
<section id="variable-preapproval">
<h5><strong>Variable preapproval</strong><a class="headerlink" href="#variable-preapproval" title="Link to this heading">#</a></h5>
<p>La preaprobación según el HMDA (Home Mortgage Disclosure Act) es considerada una solicitud de préstamo que debe ser reportada por los prestamistas hipotecarios. Esto significa que el prestamista tiene programas de preaprobación donde deben informar las solicitudes que son aprobadas o denegadas. Una preaprobación se utiliza principalmente para la compra de una vivienda, como en este caso.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_bar</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>

<span class="n">blue_palette_preapproval</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#0096c7&#39;</span><span class="p">,</span> <span class="s1">&#39;#023e8a&#39;</span><span class="p">]</span>  <span class="c1"># Paleta de colores en azul</span>

<span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Convertir a string si no lo está</span>

<span class="n">bar_plot_preapproval</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(preapproval)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_preapproval</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;No pedido&quot;</span><span class="p">,</span> <span class="s2">&quot;Pedido&quot;</span><span class="p">]</span>  
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Gráfico de barras Decisión contra pre-aprobación&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Decisión&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Frecuencia&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Pre-aprobación&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span> 
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">df_proportions_preapproval</span> <span class="o">=</span> <span class="n">to_proportions</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="s1">&#39;action_taken&#39;</span><span class="p">,</span> <span class="s1">&#39;preapproval&#39;</span><span class="p">)</span>
<span class="n">df_proportions_preapproval</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_proportions_preapproval</span><span class="p">[</span><span class="s1">&#39;preapproval&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Convertir a string si no lo está</span>

<span class="n">proportion_plot_preapproval</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">df_proportions_preapproval</span><span class="p">,</span>
           <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(preapproval)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_bar</span><span class="p">(</span><span class="n">stat</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;stack&#39;</span><span class="p">,</span> <span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_preapproval</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;No pedido&quot;</span><span class="p">,</span> <span class="s2">&quot;Pedido&quot;</span><span class="p">]</span>  
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Proporción de acción contra presencia de pre-aprobación&quot;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Acción&quot;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Proporción&quot;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Pre-aprobación&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">bar_plot_preapproval</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proportion_plot_preapproval</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/c30aac7c76e31e778465e11c0d762a6bd7d245eb20f296ed70460f5df33a6b8c.png"><img alt="_images/c30aac7c76e31e778465e11c0d762a6bd7d245eb20f296ed70460f5df33a6b8c.png" src="_images/c30aac7c76e31e778465e11c0d762a6bd7d245eb20f296ed70460f5df33a6b8c.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/4683f45bc0b824328476386aa5f2aa5ce1ea751c7a2aade374250f37b769d743.png"><img alt="_images/4683f45bc0b824328476386aa5f2aa5ce1ea751c7a2aade374250f37b769d743.png" src="_images/4683f45bc0b824328476386aa5f2aa5ce1ea751c7a2aade374250f37b769d743.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="variables-cuantitativas">
<h4><strong>Variables Cuantitativas</strong><a class="headerlink" href="#variables-cuantitativas" title="Link to this heading">#</a></h4>
<section id="variable-loan-amount">
<h5><strong>Variable Loan Amount</strong><a class="headerlink" href="#variable-loan-amount" title="Link to this heading">#</a></h5>
<p>El monto del préstamo se refiere a la cantidad total de dinero que un prestatario recibe de un prestamista, que deberá pagarse en un plazo acordado, generalmente con intereses.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_boxplot</span><span class="p">,</span> <span class="n">geom_histogram</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span><span class="p">,</span> <span class="n">theme_minimal</span>
<span class="p">)</span>

<span class="n">blue_palette_loan</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>

<span class="n">boxplot_loan</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_boxplot</span><span class="p">(</span><span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_loan</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Denegado&quot;</span><span class="p">,</span> <span class="s2">&quot;Aprobado&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Diagrama de cajas de monto contra la aceptación del crédito&#39;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Monto&#39;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">histogram_loan</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;loan_amount&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_histogram</span><span class="p">(</span><span class="n">binwidth</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;#0096c7&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución del monto del préstamo&#39;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Monto del Préstamo&#39;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">boxplot_loan</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">histogram_loan</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/d887fa736e825fd27441d4c47a800fd51e6ce39b016ebb6616fb41f664d42758.png"><img alt="_images/d887fa736e825fd27441d4c47a800fd51e6ce39b016ebb6616fb41f664d42758.png" src="_images/d887fa736e825fd27441d4c47a800fd51e6ce39b016ebb6616fb41f664d42758.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/2317bab9d9fd83cd5f0e25183e7a846c2cecb7f1c7fba740e2bc77650a35fa1c.png"><img alt="_images/2317bab9d9fd83cd5f0e25183e7a846c2cecb7f1c7fba740e2bc77650a35fa1c.png" src="_images/2317bab9d9fd83cd5f0e25183e7a846c2cecb7f1c7fba740e2bc77650a35fa1c.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>En el primer gráfico, que es un diagrama de cajas, se observa la distribución del monto del préstamo en función de la decisión de aprobación del crédito. Se puede notar que los montos aprobados tienden a ser más altos en comparación con los montos denegados. Los préstamos aprobados presentan un rango intercuartílico más amplio y una mediana más alta, lo cual indica que el rango de los montos aprobados es mayor. Además, hay presencia de algunos valores atípicos en ambos casos, sugiriendo la existencia de préstamos inusualmente altos.</p>
<p>El segundo gráfico muestra la distribución de la variable del monto del préstamo a través de un histograma. La mayoría de los préstamos se concentran en montos menores a los <span class="math notranslate nohighlight">\(300,000, con un pico significativo alrededor de los \)</span>200,000. Esta distribución es sesgada a la derecha, lo que implica que, aunque la mayoría de los préstamos se encuentran en rangos bajos a moderados, hay una cantidad considerable de préstamos con montos mucho más altos, lo que podría influir en el análisis de riesgo de crédito.</p>
</section>
<section id="variable-income">
<h5><strong>Variable Income</strong><a class="headerlink" href="#variable-income" title="Link to this heading">#</a></h5>
<p>El ingreso se refiere al dinero que se gana a través del trabajo o se recibe de inversiones. Los ingresos pueden provenir de diversas fuentes, ya sean salarios, sueldos, o ganancias obtenidas por la venta de productos o servicios. Cada tipo de ingreso también tiene regulaciones fiscales específicas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="n">geom_histogram</span>

<span class="n">histogram_income</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_histogram</span><span class="p">(</span><span class="n">binwidth</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_income</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Denegado&quot;</span><span class="p">,</span> <span class="s2">&quot;Aprobado&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Distribución de ingresos según la aceptación del crédito&#39;</span><span class="p">,</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Ingresos&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">,</span>
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  <span class="c1"># Ajustar el tamaño del gráfico</span>
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  <span class="c1"># Leyenda a la derecha</span>
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">boxplot_income</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;income&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_boxplot</span><span class="p">(</span><span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_income</span><span class="p">,</span>  
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Negada&quot;</span><span class="p">,</span> <span class="s2">&quot;Aceptada&quot;</span><span class="p">]</span> 
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Diagrama de cajas de ingresos contra la aceptación del crédito&#39;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Acción&#39;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Ingresos&#39;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Acción&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  
    <span class="p">)</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">boxplot_income</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">histogram_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/81fb28799d99e8cfcd8076d60901b84e8e7281629268759242a526085a01d83d.png"><img alt="_images/81fb28799d99e8cfcd8076d60901b84e8e7281629268759242a526085a01d83d.png" src="_images/81fb28799d99e8cfcd8076d60901b84e8e7281629268759242a526085a01d83d.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/53dd406cc369c89f4c799d4706531049e3d1949d22de33787697a5c58c26e0a4.png"><img alt="_images/53dd406cc369c89f4c799d4706531049e3d1949d22de33787697a5c58c26e0a4.png" src="_images/53dd406cc369c89f4c799d4706531049e3d1949d22de33787697a5c58c26e0a4.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>En los gráficos presentados se analiza la relación entre los ingresos del solicitante y la decisión del crédito. El primer gráfico, un diagrama de cajas, muestra que los ingresos medianos de los solicitantes con crédito aprobado (Loan Originated) son generalmente más altos que aquellos cuya solicitud fue denegada (Application Denied). Esto indica que a mayor ingreso, mayor probabilidad de aprobación del crédito.</p>
<p>El segundo gráfico se ilustra la distribución de los ingresos para cada grupo de decisión. Se observa que los ingresos más bajos están más concentrados en las solicitudes denegadas, mientras que los ingresos más altos tienen una mayor proporción de aprobaciones. Esto reafirma la tendencia observada en el primer gráfico de que los ingresos influyen significativamente en la decisión de aprobación del crédito.</p>
</section>
<section id="variable-ffiec-family-income">
<h5><strong>Variable FFIEC Family Income</strong><a class="headerlink" href="#variable-ffiec-family-income" title="Link to this heading">#</a></h5>
<p>El término “ffiec_msa_md_median_family_income” se refiere al ingreso familiar medio (Median Family Income, MFI) según los datos del FFIEC (Federal Financial Institutions Examination Council). Este ingreso es ajustado anualmente y se correlaciona con los datos de solicitudes de préstamos en las áreas metropolitanas (MSA) y divisiones del mercado (MD) en las que se encuentra el tracto específico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">,</span> <span class="n">aes</span><span class="p">,</span> <span class="n">geom_boxplot</span><span class="p">,</span> <span class="n">scale_fill_manual</span><span class="p">,</span> <span class="n">labs</span><span class="p">,</span> <span class="n">theme_minimal</span><span class="p">,</span> <span class="n">theme</span><span class="p">,</span> <span class="n">element_text</span>
<span class="p">)</span>

<span class="c1"># Definir la paleta de colores en tonos de azul para el gráfico</span>
<span class="n">blue_palette_median_income</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">,</span> <span class="s1">&#39;#0096c7&#39;</span><span class="p">]</span>

<span class="c1"># Gráfico mejorado de caja para ingresos contra la mediana del sector</span>
<span class="n">box_plot_median_income</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">ggplot</span><span class="p">(</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;ffiec_median_family_income&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;factor(action_taken)&#39;</span><span class="p">))</span>
    <span class="o">+</span> <span class="n">geom_boxplot</span><span class="p">(</span><span class="n">show_legend</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
    <span class="o">+</span> <span class="n">scale_fill_manual</span><span class="p">(</span>
        <span class="n">values</span><span class="o">=</span><span class="n">blue_palette_median_income</span><span class="p">,</span>  
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Negada&quot;</span><span class="p">,</span> <span class="s2">&quot;Aceptada&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">labs</span><span class="p">(</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Diagrama de cajas de ingresos contra la mediana del sector&#39;</span><span class="p">,</span> 
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span><span class="p">,</span> 
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Ingresos&#39;</span><span class="p">,</span> 
        <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;Decisión&#39;</span>
    <span class="p">)</span>
    <span class="o">+</span> <span class="n">theme_minimal</span><span class="p">()</span>  <span class="c1"># Tema sin fondo con estilo limpio</span>
    <span class="o">+</span> <span class="n">theme</span><span class="p">(</span>
        <span class="n">figure_size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>  <span class="c1"># Ajustar el tamaño de la figura</span>
        <span class="n">plot_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_x</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span>  
        <span class="n">axis_title_y</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">axis_text</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#3B3B3B&#39;</span><span class="p">),</span>  
        <span class="n">legend_title</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#023e8a&#39;</span><span class="p">),</span> 
        <span class="n">legend_position</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  <span class="c1"># Leyenda a la derecha</span>
        <span class="n">legend_background</span><span class="o">=</span><span class="n">element_text</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>  
        <span class="n">legend_box_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="n">legend_box</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span>  <span class="c1"># Leyenda en posición vertical al costado</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Mostrar el gráfico</span>
<span class="nb">print</span><span class="p">(</span><span class="n">box_plot_median_income</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<a class="reference internal image-reference" href="_images/d9dd6dd7617ea0ea8dcd6eb95272d000d422c99dcac40187c2468f625d12fea7.png"><img alt="_images/d9dd6dd7617ea0ea8dcd6eb95272d000d422c99dcac40187c2468f625d12fea7.png" src="_images/d9dd6dd7617ea0ea8dcd6eb95272d000d422c99dcac40187c2468f625d12fea7.png" style="width: 1000px; height: 600px;" /></a>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<p>El diagrama de cajas de ingresos contra la mediana del sector muestra la distribución de los ingresos familiares medianos en el área metropolitana en función de la decisión de aprobación del crédito. Se observa que los préstamos aprobados (<code class="docutils literal notranslate"><span class="pre">Loan</span> <span class="pre">Originated</span></code>) tienden a estar asociados con una mediana de ingresos más alta en comparación con los préstamos denegados (<code class="docutils literal notranslate"><span class="pre">Application</span> <span class="pre">Denied</span></code>). Los valores medianos son visiblemente mayores para los créditos aprobados, lo que indica que las áreas con mayores ingresos medianos tienden a tener un mayor porcentaje de aprobaciones. Sin embargo, también se aprecia una superposición significativa, lo que sugiere que hay otros factores además de la mediana de ingresos que afectan la decisión de aprobación del crédito.</p>
</section>
</section>
</section>
</section>
<section id="id1">
<h2><strong>Conclusión</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>En el  Análisis Exploratorio de Datos (EDA) realizado ha proporcionado una visión profunda de los datos disponibles para el análisis de aprobación de créditos. Inicialmente, se abordó la imputación de valores faltantes para asegurar la integridad del conjunto de datos, permitiendo un análisis más robusto y evitando sesgos por datos incompletos. Posteriormente, se efectuaron diversos análisis gráficos y pruebas estadísticas, incluyendo pruebas de chi-cuadrado, para evaluar la relación entre variables categóricas y determinar su relevancia.</p>
<p>Asimismo, se llevó a cabo una evaluación de la multicolinealidad mediante el cálculo del Factor de Inflación de la Varianza (VIF), eliminando las variables que presentaban valores altos de VIF para evitar problemas de multicolinealidad en modelos posteriores. También se analizaron la distribución y normalidad de las variables cuantitativas, lo que permitió identificar y tratar valores atípicos que podrían distorsionar el análisis.</p>
<p>Finalmente, las visualizaciones gráficas, como diagramas de cajas, histogramas y gráficos de barras apiladas, ayudaron a comprender mejor la distribución de los datos y la relación entre diferentes variables. Este proceso de limpieza y análisis ha permitido refinar el conjunto de datos, proporcionando una base sólida y confiable para la construcción de modelos predictivos en fases posteriores del análisis.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Metodolog%C3%ADa.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>Metodología</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#carga-y-exploracion-inicial-de-los-datos"><strong>Carga y Exploración Inicial de los Datos</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eliminacion-de-variables"><strong>Eliminación de variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#base-de-datos-luego-de-la-eliminacion"><strong>Base de datos luego de la eliminación</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cuantitativas-y-cualitativas"><strong>Resumen de Variables Cuantitativas y Cualitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cuantitativas"><strong>Resumen de variables cuantitativas</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-de-variables-cualitativas"><strong>Resumen de variables cualitativas</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-prestamos-aprobados-y-rechazados-por-sexo-raza-y-edad"><strong>Análisis de Préstamos Aprobados y Rechazados por Sexo, Raza y Edad</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pruebas-estadisticas"><strong>Pruebas Estadísticas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacion-y-conclusiones-de-la-tabla-de-pruebas-estadisticas"><strong>Interpretación y Conclusiones de la Tabla de Pruebas Estadísticas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion"><strong>Conclusión</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-multicolinealidad-y-dependencia-estadistica"><strong>Análisis de Multicolinealidad y Dependencia Estadística</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-eliminacion-para-variables-numericas-vif"><strong>Método de Eliminación para Variables Numéricas: VIF</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-de-eliminacion-para-variables-categoricas-prueba-de-chi-cuadrado"><strong>Método de Eliminación para Variables Categóricas: Prueba de Chi-cuadrado</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#seleccion-final-de-variables"><strong>Selección Final de Variables</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#nota"><strong>Nota</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-faltantes-na"><strong>Análisis de datos faltantes (NA)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes"><strong>Imputación de Datos Faltantes</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-en-la-variable-income"><strong>Tratamiento de Datos Faltantes en la Variable “Income”</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#verificacion-de-valores-negativos"><strong>Verificación de Valores Negativos</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#proceso-de-conversion-de-valores-negativos-a-na"><strong>Proceso de Conversión de Valores Negativos a NA</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#revision-del-porcentaje-de-datos-faltantes"><strong>Revisión del Porcentaje de Datos Faltantes:</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-valores-faltantes-en-la-variable-income"><strong>Imputación de Valores Faltantes en la Variable “Income”</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-de-income-antes-y-despues-de-la-imputacion"><strong>Visualización de la Distribución de “Income” Antes y Después de la Imputación</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-datos-faltantes-en-la-variable-conforming-loan-limit"><strong>Tratamiento de Datos Faltantes en la Variable “conforming_loan_limit”</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#imputacion-de-datos-faltantes-en-la-variable-conforming-loan-limit"><strong>Imputación de Datos Faltantes en la Variable conforming_loan_limit</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-antes-y-despues-de-la-imputacion"><strong>Visualización de la Distribución antes y después de la Imputación</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-datos-atipicos"><strong>Análisis de Datos Atípicos</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-outliers"><strong>Identificación de Outliers</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-outliers-utilizando-diagramas-de-caja-boxplots"><strong>Identificación de Outliers Utilizando Diagramas de Caja (Boxplots)</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#deteccion-de-outliers-mediante-el-calculo-del-z-score"><strong>Detección de Outliers Mediante el Cálculo del Z-Score</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#metodo-del-rango-intercuartilico-iqr-para-deteccion-de-outliers"><strong>Método del Rango Intercuartílico (IQR) para Detección de Outliers</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estrategias-de-tratamiento-de-outliers"><strong>Estrategias de Tratamiento de Outliers</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-la-distribucion-despues-del-tratamiento-de-outliers"><strong>Visualización de la Distribución Después del Tratamiento de Outliers</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-variables-de-estudio"><strong>Visualización de Variables de Estudio</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-respuesta"><strong>Variable Respuesta</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-descriptivas"><strong>Variables descriptivas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-cualitativas"><strong>Variables cualitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-lien-status"><strong>Variable Lien Status</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-aus-gus"><strong>Variable AUS: GUS</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-total-units"><strong>Variable Total Units</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#varible-conforming-loan-limit"><strong>Varible Conforming Loan Limit</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-preapproval"><strong>Variable preapproval</strong></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variables-cuantitativas"><strong>Variables Cuantitativas</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-loan-amount"><strong>Variable Loan Amount</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-income"><strong>Variable Income</strong></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-ffiec-family-income"><strong>Variable FFIEC Family Income</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Conclusión</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Zharick Molina y Ricardo Watts
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>